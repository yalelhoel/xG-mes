(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,function(e,n,t){"use strict";t.r(n);var o=t(2),i=t(12);t(43);function c(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var r=t(24);t(40);window.memory=i.e;var a=t(60),l=t(30),s=function(e){var n,t=e.canvas,o=e.universe,c=e.isSnapshot,s=void 0!==c&&c,u=e.gl;n=r(u?{gl:u,attributes:{preserveDrawingBuffer:s}}:{canvas:t,attributes:{preserveDrawingBuffer:s}});var p=o.width(),m=o.height(),f=o.cells(),d=o.lights(),x=o.sprite(),h=new Uint8Array(i.e.buffer,f,p*m*4),v=new Uint8Array(i.e.buffer,d,p*m*4),y=new Uint8Array(i.e.buffer,x,p*m*4),g=n.texture({width:p,height:m,data:h}),_=n.texture({width:p,height:m,data:v}),w=n.texture({width:p,height:m,data:y}),b=n({blend:{enable:!0,func:{srcRGB:"src alpha",srcAlpha:1,dstRGB:"one minus src alpha",dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},frag:a,uniforms:{t:function(e){return e.tick},skyTime:function(){return window.skyTime||0},dataTexture:function(){return f=o.cells(),h=new Uint8Array(i.e.buffer,f,p*m*4),g({width:p,height:m,data:h})},lightTexture:function(){return d=o.lights(),v=new Uint8Array(i.e.buffer,d,p*m*4),_({width:p,height:m,data:v})},spriteTexture:function(){return x=o.sprite(),y=new Uint8Array(i.e.buffer,x,p*m*4),w({width:p,height:m,data:y})},resolution:function(e){return[e.viewportWidth,e.viewportHeight]},dpi:4,isSnapshot:s},vert:l,attributes:{position:[[-1,4],[-1,-1],[4,-1]]},count:3});return{regl:n,draw:function(){n.poll(),b()}}};t(24),t(61),t(30),document.getElementById("plot-label"),new Uint8Array(180);function u(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}new(function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.fps=document.getElementById("fps"),this.frames=[],this.lastFrameTimeStamp=performance.now()}var n,t,o;return n=e,(t=[{key:"render",value:function(){var e=performance.now(),n=e-this.lastFrameTimeStamp;this.lastFrameTimeStamp=e;var t=1/n*1e3;this.frames.push(t),this.frames.length>30&&this.frames.shift();for(var o=1/0,i=-1/0,c=0,r=0;r<this.frames.length;r++)c+=this.frames[r],o=Math.min(this.frames[r],o),i=Math.max(this.frames[r],i);var a=c/this.frames.length;this.fps.textContent="FPS:".concat(Math.round(a))}}])&&u(n.prototype,t),o&&u(n,o),e}());var p=t(62),m=t.n(p);var f,d=(f=t(69)).keys().map(f);var x,h=function(e){return fetch(e).then((function(e){if(!e.ok)throw Error(e.statusText);return e.arrayBuffer()})).then((function(n){return m.a.parse(n).catch((function(n){console.log(n+e)}))})).then((function(n){var t=n.filter((function(e){return 16==e.height})),o=(t=t.sort((function(e,n){return n.bpp-e.bpp})))[0];return!!o&&(o.url=e,o)}))};function v(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function y(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var t=[],o=!0,i=!1,c=void 0;try{for(var r,a=e[Symbol.iterator]();!(o=(r=a.next()).done)&&(t.push(r.value),!n||t.length!==n);o=!0);}catch(e){i=!0,c=e}finally{try{o||null==a.return||a.return()}finally{if(i)throw c}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var g=document.getElementById("sand-canvas"),_=0;var w=function(e,n){return Math.sqrt(Math.pow(e.clientX-n.clientX,2)+Math.pow(e.clientY-n.clientY,2),2)},b=function(e){var n=function(e){return Math.sqrt(Math.pow(e.clientX,2)+Math.pow(e.clientY,2),2)}(e);return{clientX:e.clientX/n,clientY:e.clientY/n}},E=function(e,n){return{clientX:e.clientX*n,clientY:e.clientY*n}},k=function(e,n){return{clientX:e.clientX+n.clientX,clientY:e.clientY+n.clientY}},z=function(e,n){return{clientX:e.clientX-n.clientX,clientY:e.clientY-n.clientY}},S=!1,C=null,A=null;function D(e){var n=window.UI.state.selectedTchotchke;if(n){window.UI.setState((function(e){var t=e.tchotchkes;return t.delete(n),document.documentElement.style.cursor="default",{tchotchkes:t,selectedTchotchke:null}}));var t=y(M(e),2),o=t[0],i=t[1];return h(n).then((function(e){ge.place_sprite(o-8,i-8,e.data),window.UI.upload()})),!0}return!1}function T(e){clearInterval(A),A=window.setInterval((function(){return L(e)}),100);var n={clientX:e.clientX,clientY:e.clientY};if(S){var t=R[window.UI.state.selectedElement]||2,i=0;if(L(n),C&&window.UI.state.selectedElement!=o.a.Fish&&window.UI.state.selectedElement!=o.a.GoldFish)for(;w(n,C)>t/3;){var c=w(n,C);if(n=k(n,E(b(z(C,e)),Math.min(t/3,c))),++i>1e3)break;L(n)}C=e}}g.addEventListener("mousedown",(function(e){e.preventDefault(),D(e)||(ge.push_undo(),S=!0,clearInterval(A),A=window.setInterval((function(){return L(e)}),100),L(e),C=e)})),document.body.addEventListener("mouseup",(function(e){clearInterval(A),S&&(e.preventDefault(),C=null,S=!1)})),g.addEventListener("mousemove",(function(e){clearInterval(A),T(e)})),g.addEventListener("mouseleave",(function(e){clearInterval(A),C=null})),g.addEventListener("touchstart",(function(e){e.cancelable&&e.preventDefault(),D(Array.from(e.touches)[0])||(ge.push_undo(),S=!0,C=e,I(e))})),g.addEventListener("touchend",(function(e){e.cancelable&&e.preventDefault(),C=null,S=!1,clearInterval(A)})),g.addEventListener("touchmove",(function(e){window.paused||e.cancelable&&e.preventDefault(),clearInterval(A),I(e)}));var I=function(e){var n=Array.from(e.touches);1==n.length?T(n[0]):n.forEach(L)},R=(v(x={},o.a.Water,13),v(x,o.a.Sand,8),v(x,o.a.Air,7),v(x,o.a.Algae,2),v(x,o.a.Fish,2),v(x,o.a.GoldFish,2),v(x,o.a.Daphnia,2),v(x,o.a.Zoop,2),v(x,o.a.Grass,2),v(x,o.a.Bacteria,2),x);function M(e){var n=g.getBoundingClientRect(),t=g.width/(we*Math.ceil(window.devicePixelRatio))/n.width,o=g.height/(we*Math.ceil(window.devicePixelRatio))/n.height,i=(e.clientX-n.left)*t,c=(e.clientY-n.top)*o;return[Math.min(Math.floor(i),be-1),Math.min(Math.floor(c),Ee-1)]}var L=function(e){if(S&&(window.UI.state.selectedElement!=o.a.Fish&&window.UI.state.selectedElement!=o.a.GoldFish||Date.now()-_>1e3&&(_=Date.now(),1))){var n=y(M(e),2),t=n[0],i=n[1];if(!(window.UI.state.selectedElement<0)){var c=R[window.UI.state.selectedElement]||3;ge.paint(t,i,c,window.UI.state.selectedElement)}}},O=t(3),P=t.n(O),N=t(415),U=t.n(N),F=t(10),j=t(23),G=t(32),B=t.n(G),V=(t(33),t(34),t(35),function(){return P.a.createElement("div",{className:"welcome-scrim"},P.a.createElement("div",{className:"Info window"},P.a.createElement("div",{className:"title-bar"},P.a.createElement("div",{className:"title-bar-text"},"Information"),P.a.createElement("div",{className:"title-bar-controls"},P.a.createElement(F.b,{to:"/"},P.a.createElement("button",{"aria-label":"Minimize"})),P.a.createElement("button",{"aria-label":"Maximize"}),P.a.createElement(F.b,{to:"/"},P.a.createElement("button",{"aria-label":"Close"}," ")))),P.a.createElement("div",{className:"window-body "},P.a.createElement("ul",{className:"tree-view info-body"},P.a.createElement("li",null,P.a.createElement("h4",null," Welcome to orb.farm!"),P.a.createElement("ul",null,P.a.createElement("li",null," ","This is a virtual ecosystem where different species of creature can live, grow and die as part of a self-contained food chain."),P.a.createElement("li",null,"Please:",P.a.createElement("ul",null,P.a.createElement("li",null,"Play"),P.a.createElement("li",null,"Experiment"),P.a.createElement("li",null,"& Observe"))),P.a.createElement("li",null,P.a.createElement("details",null,P.a.createElement("summary",null,"Elements"),P.a.createElement("ul",null,P.a.createElement("li",null,P.a.createElement("details",null,P.a.createElement("summary",null,"Inert"),P.a.createElement("ul",null,P.a.createElement("li",null,P.a.createElement("summary",null,"Clear:"),P.a.createElement("ul",null,P.a.createElement("li",null,'"Air" element, used to erase things.'))),P.a.createElement("li",null,P.a.createElement("summary",null,"Glass:"),P.a.createElement("ul",null,P.a.createElement("li",null,"Lets in light, biologically inert."))),P.a.createElement("li",null,P.a.createElement("summary",null,"Sand:"),P.a.createElement("ul",null,P.a.createElement("li",null,"Important nutrient vector for plants. Grass must grow in this."))),P.a.createElement("li",null,P.a.createElement("summary",null,"Stone:"),P.a.createElement("ul",null,P.a.createElement("li",null,"Draw archways and castle. Aquascaping!"))),P.a.createElement("li",null,P.a.createElement("summary",null,"Wood:"),P.a.createElement("ul",null,P.a.createElement("li",null,"Driftwood adds natural decorative flare and provides a place for fish to hide. It also blocks light."))),P.a.createElement("li",null,P.a.createElement("summary",null,"Water:"),P.a.createElement("ul",null,P.a.createElement("li",null,"A classic. Doesn't get better than this.")))))),P.a.createElement("li",null,P.a.createElement("details",null,P.a.createElement("summary",null,"Autotrophs"),P.a.createElement("ul",null,P.a.createElement("li",null,P.a.createElement("summary",null,"Algae:"),P.a.createElement("ul",null,P.a.createElement("li",null,"Photosynthesizes sunlight & carbon dioxide to produce nutrients and oxygen. Life of the party!"))),P.a.createElement("li",null,P.a.createElement("summary",null,"Grass:"),P.a.createElement("ul",null,P.a.createElement("li",null,"Grows into eel grass, which is a source of food and oxygen. Needs to pull nitrogen from sand in order to grow.")))))),P.a.createElement("li",null,P.a.createElement("details",null,P.a.createElement("summary",null,"Herbivores"),P.a.createElement("ul",null,P.a.createElement("li",null,P.a.createElement("summary",null,"Daphnia:"),P.a.createElement("ul",null,P.a.createElement("li",null,"Also know as water fleas, these freshwater zooplankton are a key species in the ecosystem. They feed on algae, and lay eggs which can lay dormant for a long time! More active at night.")))))),P.a.createElement("li",null,P.a.createElement("details",null,P.a.createElement("summary",null,"Carnivores"),P.a.createElement("ul",null,P.a.createElement("li",null,P.a.createElement("summary",null,"Fish:"),P.a.createElement("ul",null,P.a.createElement("li",null,"They feed mostly on daphnia but will also eat on the biofilm that grows on plants. I can't tell what they're thinking."),P.a.createElement("li",null,P.a.createElement("summary",null,"Goldfish:"),P.a.createElement("ul",null,P.a.createElement("li",null,"Loyal but simple minded. Breathes oxygen")))))))),P.a.createElement("li",null,P.a.createElement("details",null,P.a.createElement("summary",null,"Decomposers"),P.a.createElement("ul",null,P.a.createElement("li",null,P.a.createElement("li",null,"Bacteria:"),P.a.createElement("ul",null,P.a.createElement("li",null,"Aerobically breaks down waste into nitrogen. Decomposers are very important parts to a functioning ecosystem. Blows bubbles when happy."))))))))),P.a.createElement("li",null,P.a.createElement("details",null,P.a.createElement("summary",null,"Diagram"),P.a.createElement("img",{src:"https://camo.githubusercontent.com/93105325a463894a90f70acf42eb79761f85567e/68747470733a2f2f75706c6f61642e77696b696d656469612e6f72672f77696b6970656469612f636f6d6d6f6e732f7468756d622f642f64642f466f6f6457656253696d706c652e6a70672f37323170782d466f6f6457656253696d706c652e6a7067"}))),P.a.createElement("li",null,P.a.createElement("details",{open:!0},P.a.createElement("summary",null,"Background"),P.a.createElement("ul",null,P.a.createElement("li",null,"Created by"," ",P.a.createElement("a",{href:"https://maxbittker.com"},"max bittker")),P.a.createElement("li",null,"Source code & Bug reports:"," ",P.a.createElement("a",{href:"https://github.com/MaxBittker/orb.farm"},"Repo")),P.a.createElement("li",null,P.a.createElement("details",{open:!0},P.a.createElement("summary",null,"Credits & Appreciations"),P.a.createElement("ul",null,P.a.createElement("li",null,"Daphnia Pixel Art:",P.a.createElement("ul",null,P.a.createElement("li",null,P.a.createElement("a",{href:"https://twitter.com/aconfuseddragon"},"@aconfuseddragon")))),P.a.createElement("li",null,"Background Art:",P.a.createElement("ul",null,P.a.createElement("li",null,P.a.createElement("a",{href:"https://www.shadertoy.com/view/tdSXzD"},'"The sun, the sky and the clouds"')," ","by stilltravelling"))),P.a.createElement("li",null,"CSS Framework:",P.a.createElement("ul",null,P.a.createElement("li",null,P.a.createElement("a",{href:"https://jdan.github.io/98.css/"},"98.css"," ")," ","by"," ",P.a.createElement("a",{href:"https://jordanscales.com"},"Jordan Scales")," ","& Contributors")))))),P.a.createElement("li",null,P.a.createElement("details",null,P.a.createElement("summary",null,"See Also"),P.a.createElement("ul",null,P.a.createElement("li",null," ","Inspiration:",P.a.createElement("ul",null,P.a.createElement("li",null,P.a.createElement("a",{href:"https://www.youtube.com/watch?v=3OG5jyRGhLg"},"Life in Jars")," ","Youtube Channel"))),P.a.createElement("li",null," ","Sibling Game:",P.a.createElement("ul",null,P.a.createElement("li",null,P.a.createElement("a",{href:"https://sandspiel.club"},"sandspiel.club")))),P.a.createElement("li",null,"Paper I wrote in college 5 years before I built this:",P.a.createElement("ul",null,P.a.createElement("li",null,P.a.createElement("a",{href:"/assets/2014.pdf"},"Jar.pdf"))))))))))))),P.a.createElement("img",{alt:"Daphnia",src:B.a,style:{height:"150px"}}),P.a.createElement("img",{alt:"Daphnia",src:B.a,style:{height:"150px",float:"right",transform:"scaleX(-1)"}}))))}),X=function(e){var n=e.close,t=e.children;return P.a.createElement("div",{className:"welcome-scrim"},P.a.createElement("div",{id:"welcome"},t,P.a.createElement(F.b,{to:"/",className:"x",onClick:n},P.a.createElement("button",null," x"))))};function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e,n){return(K=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function J(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",o=e*Math.PI/180;return"".concat(Math.sin(o)*n).concat(t).concat(Math.cos(o)*n," ")}var Z,Q=(Z=Array(60).keys(),function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(Z)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(Z)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()).map((function(e){return e/60*360})).map((function(e,n){if(e<45||e>315)return null;var t=n%5==0?5:3;return P.a.createElement("polyline",{stroke:"black",key:n,points:"".concat(J(e,40+t,","),"\n").concat(J(e,40,","),"\n  ")})})),$=function(e){function n(e){var t,o,i;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),o=this,(t=!(i=Y(n).call(this,e))||"object"!==W(i)&&"function"!=typeof i?H(o):i).state={angle:80},window.gauge=H(t),t}var t,o,i;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&K(e,n)}(n,e),t=n,(o=[{key:"render",value:function(){var e=this.state.angle;return P.a.createElement("svg",{viewBox:"-47 -47 94 94",className:"gauge"},P.a.createElement("style",{dangerouslySetInnerHTML:{__html:"\n          .small {\n            font: normal 5px serif !important;\n          }\n        "}}),P.a.createElement("path",{className:"dial",fill:"none",stroke:"black",strokeWidth:1,d:"M -28.28 28.28 A 40 40, 0, 1, 1, 28.28 28.28 "}),P.a.createElement("path",{className:"dial",fill:"red",opacity:"0.5",strokeWidth:1,d:"M ".concat(J(-45,40),"\n        A 40 40, 0, 0, 1, ").concat(J(260,40),"\n        L 0,0\n        Z\n        ")}),P.a.createElement("path",{className:"dial",fill:"red",opacity:"0.5",strokeWidth:1,d:"M ".concat(J(45,40),"\n      A 40 40, 0, 0, 0, ").concat(J(100,40),"\n      L 0,0\n      Z\n      ")}),P.a.createElement("path",{className:"dial",fill:"green",opacity:"0.3",strokeWidth:1,d:"M ".concat(J(260,40),"\n  A 40 40, 0, 0, 1, ").concat(J(100,40),"\n  L 0,0\n  Z\n  ")}),P.a.createElement("g",{className:"dial"},P.a.createElement("circle",{cx:0,cy:0,r:30,fill:"rgb(192, 192, 192)"}),P.a.createElement("circle",{cx:0,cy:0,r:5,fill:"brass"}),P.a.createElement("polygon",{style:{transform:"rotate(".concat(e,"deg)")},stroke:"black",points:"".concat(J(0,45,","),"\n").concat(J(4,-25,","),"\n").concat(J(-4,-25,","),"\n          ")})),Q,P.a.createElement("g",{className:"text-container"},P.a.createElement("text",{x:-24,y:30,fill:"black",className:"value-text",fontSize:"100%",fontWeight:"normal",alignmentBaseline:"middle",dominantBaseline:"central"},"CO"),P.a.createElement("text",{x:-24,y:30,dx:16,dy:7,fontSize:"80%"},"2"),P.a.createElement("text",{x:13,y:30,fill:"black",fontSize:"100%",fontWeight:"normal",alignmentBaseline:"middle",dominantBaseline:"central"},"O"),P.a.createElement("text",{x:13,y:30,dx:9,dy:7,fontSize:"80%"},"2")))}}])&&q(t.prototype,o),i&&q(t,i),n}(P.a.Component);function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(e,n){return(ie=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function ce(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function re(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ce(t,!0).forEach((function(n){ae(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ce(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ae(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var le=["FishTail","Biofilm","GoldFishTail"];le.push("Waste"),le.push("Bubble"),le.push("Plant"),le.push("Zoop"),le.push("Nitrogen"),le.push("Plastic"),window.species=o.a;var se=function(){var e=document.createElement("canvas"),n=Object.values(o.a),t=Math.max.apply(Math,c(n))+1,i=o.b.new(t,1);e.width=t,e.height=3,i.reset(),n.forEach((function(e){return i.paint(e,0,2,e)})),i.paint(n.Air,0,2,n.Air),(0,s({universe:i,canvas:e,isSnapshot:!0}).draw)();var r=e.getContext("webgl"),a=new Uint8Array(4*t);r.readPixels(0,0,t,1,r.RGBA,r.UNSIGNED_BYTE,a);var l={};return n.forEach((function(e){var n=4*e,t="rgba(".concat(a[n],",").concat(a[n+1],", ").concat(a[n+2],", 1.0)");l[e]=t})),l}(),ue=function(e){var n=e.onClick,t=e.className,o=e.style,i=e.children;return P.a.createElement("button",{onClick:n,className:t,style:re({},o)},i)},pe=function(e,n,t){var i=o.a[e],c=se[i];i==o.a.Daphnia&&(c=se[o.a.Zoop]);var r=i==n,a=e;return"Air"==e&&(a="Clear"),P.a.createElement("button",{className:r?"selected ".concat(e):e,key:e,onClick:function(){t(i)},style:{background:"inherit",backgroundColor:c,borderColor:c,color:"Air"==e?"black":"white",filter:r||"saturate(0.4) "}},"  ",a,"  ")},me=function(e){function n(e){var t,i,c;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),i=this,t=!(c=te(n).call(this,e))||"object"!==ee(c)&&"function"!=typeof c?oe(i):c;var r=localStorage.getItem("tutorialProgress")||0;return t.state={submissionMenuOpen:!1,paused:!1,ff:!1,submitting:!1,size:1,tchotchkes:new Set,dataURL:null,currentSubmission:null,selectedElement:o.a.Sand,tutorialProgress:r},window.UI=oe(t),window.setTimeout((function(){}),1e4),t}var t,c,r;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&ie(e,n)}(n,e),t=n,(c=[{key:"componentDidUpdate",value:function(e){}},{key:"togglePause",value:function(){window.paused=!this.state.paused,this.setState({paused:!this.state.paused})}},{key:"toggleFF",value:function(){window.ff=!this.state.ff,this.setState({ff:!this.state.ff})}},{key:"play",value:function(){window.paused=!1,this.setState({paused:!1})}},{key:"pause",value:function(){window.paused=!0,this.setState({paused:!0})}},{key:"setSize",value:function(e,n){e.preventDefault(),this.setState({size:n})}},{key:"reset",value:function(){window.confirm("Reset your ecosystem?")&&(this.play(),this.setState({currentSubmission:null}),localStorage.setItem("last_tchotchke",null),Me())}},{key:"closeMenu",value:function(){this.play(),this.setState({dataURL:null})}},{key:"upload",value:function(){console.log("saving");var e=new Uint8Array(i.e.buffer,ge.cells(),be*Ee*4),n=document.createElement("canvas"),t=n.getContext("2d"),o=t.createImageData(be,Ee);n.height=Ee,n.width=be;for(var c=0;c<be*Ee*4;c++)o.data[c]=c%4==3?255:e[c];t.putImageData(o,0,0);var r=n.toDataURL("image/png"),a=JSON.stringify(r);try{localStorage.setItem("cell_data",a),localStorage.setItem("o2",ge.o2()),localStorage.setItem("time",window.t)}catch(e){console.log("store failed")}var l=new Uint8Array(i.e.buffer,ge.sprite(),be*Ee*4);for(c=0;c<be*Ee*4;c++)o.data[c]=l[c];t.putImageData(o,0,0);var s=n.toDataURL("image/png"),u=JSON.stringify(s);try{localStorage.setItem("sprite_data",u)}catch(e){console.log("store failed")}}},{key:"currentDateString",value:function(){var e=new Date;return"".concat(e.getMonth(),"-").concat(e.getDate())}},{key:"findTchotchke",value:function(){var e=this;localStorage.getItem("last_tchotchke")!=this.currentDateString()&&function e(){var n=Math.random()*d.length,t=d[0|n];return h(t).then((function(n){return n||e()}))}().then((function(n){e.setState((function(t){var o=t.tchotchkes;return localStorage.setItem("last_tchotchke",e.currentDateString()),e.state.tchotchkes.size>=2&&o.delete(Array.from(o)[0]),o.add(n.url),{tchotchkes:o}}))}))}},{key:"load",value:function(){var e=this;console.log("loading"),window.setInterval((function(){return e.findTchotchke()}),3e5);var n=JSON.parse(localStorage.getItem("cell_data")),t=JSON.parse(localStorage.getItem("sprite_data"));if(!n)return console.log("no save"),void window.setInterval((function(){return e.upload()}),1e4);var o=document.createElement("canvas");o.width=be,o.height=Ee;var c=o.getContext("2d"),r=new Image;r.src=n,r.onload=function(){c.drawImage(r,0,0);for(var n=c.getImageData(0,0,o.width,o.height),t=new Uint8Array(i.e.buffer,ge.cells(),be*Ee*4),a=0;a<be*Ee*4;a++)t[a]=n.data[a];if(localStorage.getItem("o2")){var l=parseInt(localStorage.getItem("o2"),10);ge.set_o2(l)}window.setInterval((function(){return e.upload()}),1e4)};var a=document.createElement("canvas");a.width=be,a.height=Ee;var l=a.getContext("2d"),s=new Image;s.src=t,s.onload=function(){l.drawImage(s,0,0);for(var e=l.getImageData(0,0,a.width,a.height),n=new Uint8Array(i.e.buffer,ge.sprite(),be*Ee*4),t=0;t<be*Ee*4;t++)n[t]=e.data[t]}}},{key:"render",value:function(){var e=this,n=this.state,t=n.ff,i=n.selectedElement,c=n.currentSubmission,r=n.selectedTchotchke,a=n.tchotchkes,l=n.tutorialProgress,s=c&&c.id?"#".concat(c.id):"",u=Object.keys(o.a).filter((function(e){return!le.includes(e)}));return P.a.createElement("div",{className:"window fade",id:"HUD"},P.a.createElement("div",{className:"title-bar"},P.a.createElement("div",{className:"title-bar-text"},"Orb.farm"),P.a.createElement("div",{className:"title-bar-controls"},P.a.createElement("button",{"aria-label":"Minimize",onClick:function(){document.body.classList.add("faded")}}),P.a.createElement("button",{"aria-label":"Maximize"}),P.a.createElement("button",{"aria-label":"Close",onClick:function(){document.body.classList.add("faded")}}))),P.a.createElement("div",{className:"window-body hud-body"},P.a.createElement($,null),P.a.createElement("div",{id:"hud-buttons"},P.a.createElement(ue,{onClick:function(){return e.toggleFF()},className:t?"selected":"",active:t},P.a.createElement("svg",{height:"20",width:"20",id:"d",viewBox:"0 0 300 300"},P.a.createElement("polygon",{id:"play",points:"0,50 , 150,150 0,250"}),P.a.createElement("polygon",{id:"play",points:"150,50, 300,150 150,250"}))),P.a.createElement(ue,{onClick:function(){return e.reset()}},"Reset"),P.a.createElement(F.b,{to:{pathname:"/info/",hash:s}},P.a.createElement(ue,{style:{width:"calc(100% - 4px)"}},"info")),u.map((function(n){return pe(n,r||i,(function(n){return e.setState({selectedElement:n,selectedTchotchke:null})}))})),a.size>0&&P.a.createElement("span",{className:"tchotchkes"},Array.from(a).map((function(n){return P.a.createElement("img",{onClick:function(){document.documentElement.style.cursor='url("'.concat(n,'"), default'),e.setState({selectedTchotchke:n})},className:r==n?"selected":"",src:n,key:n})}))),r&&P.a.createElement("button",{className:"discard",onClick:function(){window.UI.setState((function(e){var n=e.tchotchkes;return n.delete(r),{tchotchkes:n,selectedTchotchke:null}}))}},"Discard"),this.state.dataURL&&P.a.createElement(X,{close:function(){return e.closeMenu()}},P.a.createElement("h4",null,"~~~Share your Orb!~~~~"),P.a.createElement("img",{src:this.state.dataURL,className:"submissionImg"}),P.a.createElement("h4",null,"Orb.Farm"),P.a.createElement("h4",null,"Tell your friends!"),P.a.createElement("div",{style:{display:"flex"}})))),l<4&&P.a.createElement(P.a.Fragment,null,P.a.createElement("div",{className:"welcome-scrim"}),P.a.createElement("div",{className:"window",id:"welcome"},P.a.createElement("div",{className:"title-bar"},P.a.createElement("div",{className:"title-bar-text"},"Orb.Farm"),P.a.createElement("div",{className:"title-bar-controls"},P.a.createElement("button",{"aria-label":"Minimize",onClick:function(){e.setState({tutorialProgress:l+1}),3==l&&localStorage.setItem("tutorialProgress",4)}}),P.a.createElement("button",{"aria-label":"Maximize"}),P.a.createElement("button",{"aria-label":"Close",onClick:function(){e.setState({tutorialProgress:l+1}),3==l&&localStorage.setItem("tutorialProgress",4)}}))),P.a.createElement("div",{className:"window-body"},P.a.createElement("div",{className:"welcome-right-column"},P.a.createElement("div",{className:"field-row-stacked welcome-speech"},[P.a.createElement("span",null,P.a.createElement("h1",null,"Welcome to Orb.Farm!")," ",P.a.createElement("p",null,"This is your personal aquatic ecosystem to nurture, sculpt, and observe.")),P.a.createElement("p",null,"My advice? Start with the basics. Fill your tank with"," ",pe("Sand",null,(function(){}))," and"," ",pe("Water",null,(function(){})),". Or vice versa!"),P.a.createElement("p",null,"From there, introduce lifeforms such as adorable"," ",pe("Daphnia",null,(function(){}))," — just don't forget some tasty"," ",pe("Algae",null,(function(){}))," for us to eat when we hatch."),P.a.createElement("span",null,P.a.createElement("p",null,"Balance the needs of your ecosystem to achieve a stable Orb community."),P.a.createElement("h1",null,"And have fun!")," ")][l])),P.a.createElement("img",{id:"daphnia",src:B.a}),P.a.createElement("span",null,P.a.createElement("p",{id:"welcome-progress"},l+1,"/4"),P.a.createElement(ue,{className:"next-button",onClick:function(){e.setState({tutorialProgress:l+1}),3==l&&localStorage.setItem("tutorialProgress",4)}},l<3?"Next >":"Begin!"))))))}}])&&ne(t.prototype,c),r&&ne(t,r),n}(P.a.Component);U.a.render(P.a.createElement((function(){return P.a.createElement(F.a,null,P.a.createElement(j.a,{path:"/",component:me}),P.a.createElement(j.a,{exact:!0,path:"/info/",component:V}))}),null),document.getElementById("ui"));t(427);function fe(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var de=t(428),xe=function(){function e(n,t){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=document.getElementById(n);var o={stencil:!1,premultipliedAlpha:!1},i=null;null==i&&(i=this.canvas.getContext("webgl2",o)),null==i&&(i=this.canvas.getContext("experimental-webgl2",o)),null==i&&(i=this.canvas.getContext("webgl",o)),null==i&&(i=this.canvas.getContext("experimental-webgl",o)),this.gl=i,this.textures={};var c=!(this.gl instanceof WebGLRenderingContext),r="";r+=c?"#version 300 es\n#ifdef GL_ES\nprecision highp float;\nprecision highp int;\nprecision mediump sampler3D;\n#endif\nin ":"#ifdef GL_ES\nprecision highp float;\nprecision highp int;\n#endif\nattribute",r+=" vec4 aPosition; void main() { gl_Position = aPosition; } ";var a,l,s="";c?(a=!0,l=!0):(a=this.gl.getExtension("OES_standard_derivatives"),l=this.gl.getExtension("EXT_shader_texture_lod")),c?(s+="#version 300 es\n#ifdef GL_ES\nprecision highp float;\nprecision highp int;\nprecision mediump sampler3D;\n#endif\nout vec4 myOutputColor;\n",de=de.replace("gl_FragColor","myOutputColor")):(a&&(s+="#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n#endif\n"),l&&(s+="#extension GL_EXT_shader_texture_lod : enable\n"),s+="#ifdef GL_ES\nprecision highp float;\nprecision highp int;\n#endif\nvec4 texture(     sampler2D   s, vec2 c)                   { return texture2D(s,c); }\nvec4 texture(     sampler2D   s, vec2 c, float b)          { return texture2D(s,c,b); }\nvec4 texture(     samplerCube s, vec3 c )                  { return textureCube(s,c); }\nvec4 texture(     samplerCube s, vec3 c, float b)          { return textureCube(s,c,b); }\nfloat round( float x ) { return floor(x+0.5); }\nvec2 round(vec2 x) { return floor(x + 0.5); }\nvec3 round(vec3 x) { return floor(x + 0.5); }\nvec4 round(vec4 x) { return floor(x + 0.5); }\nfloat trunc( float x, float n ) { return floor(x*n)/n; }\nmat3 transpose(mat3 m) { return mat3(m[0].x, m[1].x, m[2].x, m[0].y, m[1].y, m[2].y, m[0].z, m[1].z, m[2].z); }\nfloat determinant( in mat2 m ) { return m[0][0]*m[1][1] - m[0][1]*m[1][0]; }\nfloat determinant( mat4 m ) { float b00 = m[0][0] * m[1][1] - m[0][1] * m[1][0], b01 = m[0][0] * m[1][2] - m[0][2] * m[1][0], b02 = m[0][0] * m[1][3] - m[0][3] * m[1][0], b03 = m[0][1] * m[1][2] - m[0][2] * m[1][1], b04 = m[0][1] * m[1][3] - m[0][3] * m[1][1], b05 = m[0][2] * m[1][3] - m[0][3] * m[1][2], b06 = m[2][0] * m[3][1] - m[2][1] * m[3][0], b07 = m[2][0] * m[3][2] - m[2][2] * m[3][0], b08 = m[2][0] * m[3][3] - m[2][3] * m[3][0], b09 = m[2][1] * m[3][2] - m[2][2] * m[3][1], b10 = m[2][1] * m[3][3] - m[2][3] * m[3][1], b11 = m[2][2] * m[3][3] - m[2][3] * m[3][2];  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;}\nmat2 inverse(mat2 m) { float det = determinant(m); return mat2(m[1][1], -m[0][1], -m[1][0], m[0][0]) / det; }\nmat4 inverse(mat4 m ) { float inv0 = m[1].y*m[2].z*m[3].w - m[1].y*m[2].w*m[3].z - m[2].y*m[1].z*m[3].w + m[2].y*m[1].w*m[3].z + m[3].y*m[1].z*m[2].w - m[3].y*m[1].w*m[2].z; float inv4 = -m[1].x*m[2].z*m[3].w + m[1].x*m[2].w*m[3].z + m[2].x*m[1].z*m[3].w - m[2].x*m[1].w*m[3].z - m[3].x*m[1].z*m[2].w + m[3].x*m[1].w*m[2].z; float inv8 = m[1].x*m[2].y*m[3].w - m[1].x*m[2].w*m[3].y - m[2].x  * m[1].y * m[3].w + m[2].x  * m[1].w * m[3].y + m[3].x * m[1].y * m[2].w - m[3].x * m[1].w * m[2].y; float inv12 = -m[1].x  * m[2].y * m[3].z + m[1].x  * m[2].z * m[3].y +m[2].x  * m[1].y * m[3].z - m[2].x  * m[1].z * m[3].y - m[3].x * m[1].y * m[2].z + m[3].x * m[1].z * m[2].y; float inv1 = -m[0].y*m[2].z * m[3].w + m[0].y*m[2].w * m[3].z + m[2].y  * m[0].z * m[3].w - m[2].y  * m[0].w * m[3].z - m[3].y * m[0].z * m[2].w + m[3].y * m[0].w * m[2].z; float inv5 = m[0].x  * m[2].z * m[3].w - m[0].x  * m[2].w * m[3].z - m[2].x  * m[0].z * m[3].w + m[2].x  * m[0].w * m[3].z + m[3].x * m[0].z * m[2].w - m[3].x * m[0].w * m[2].z; float inv9 = -m[0].x  * m[2].y * m[3].w +  m[0].x  * m[2].w * m[3].y + m[2].x  * m[0].y * m[3].w - m[2].x  * m[0].w * m[3].y - m[3].x * m[0].y * m[2].w + m[3].x * m[0].w * m[2].y; float inv13 = m[0].x  * m[2].y * m[3].z - m[0].x  * m[2].z * m[3].y - m[2].x  * m[0].y * m[3].z + m[2].x  * m[0].z * m[3].y + m[3].x * m[0].y * m[2].z - m[3].x * m[0].z * m[2].y; float inv2 = m[0].y  * m[1].z * m[3].w - m[0].y  * m[1].w * m[3].z - m[1].y  * m[0].z * m[3].w + m[1].y  * m[0].w * m[3].z + m[3].y * m[0].z * m[1].w - m[3].y * m[0].w * m[1].z; float inv6 = -m[0].x  * m[1].z * m[3].w + m[0].x  * m[1].w * m[3].z + m[1].x  * m[0].z * m[3].w - m[1].x  * m[0].w * m[3].z - m[3].x * m[0].z * m[1].w + m[3].x * m[0].w * m[1].z; float inv10 = m[0].x  * m[1].y * m[3].w - m[0].x  * m[1].w * m[3].y - m[1].x  * m[0].y * m[3].w + m[1].x  * m[0].w * m[3].y + m[3].x * m[0].y * m[1].w - m[3].x * m[0].w * m[1].y; float inv14 = -m[0].x  * m[1].y * m[3].z + m[0].x  * m[1].z * m[3].y + m[1].x  * m[0].y * m[3].z - m[1].x  * m[0].z * m[3].y - m[3].x * m[0].y * m[1].z + m[3].x * m[0].z * m[1].y; float inv3 = -m[0].y * m[1].z * m[2].w + m[0].y * m[1].w * m[2].z + m[1].y * m[0].z * m[2].w - m[1].y * m[0].w * m[2].z - m[2].y * m[0].z * m[1].w + m[2].y * m[0].w * m[1].z; float inv7 = m[0].x * m[1].z * m[2].w - m[0].x * m[1].w * m[2].z - m[1].x * m[0].z * m[2].w + m[1].x * m[0].w * m[2].z + m[2].x * m[0].z * m[1].w - m[2].x * m[0].w * m[1].z; float inv11 = -m[0].x * m[1].y * m[2].w + m[0].x * m[1].w * m[2].y + m[1].x * m[0].y * m[2].w - m[1].x * m[0].w * m[2].y - m[2].x * m[0].y * m[1].w + m[2].x * m[0].w * m[1].y; float inv15 = m[0].x * m[1].y * m[2].z - m[0].x * m[1].z * m[2].y - m[1].x * m[0].y * m[2].z + m[1].x * m[0].z * m[2].y + m[2].x * m[0].y * m[1].z - m[2].x * m[0].z * m[1].y; float det = m[0].x * inv0 + m[0].y * inv4 + m[0].z * inv8 + m[0].w * inv12; det = 1.0 / det; return det*mat4( inv0, inv1, inv2, inv3,inv4, inv5, inv6, inv7,inv8, inv9, inv10, inv11,inv12, inv13, inv14, inv15);}\nfloat sinh(float x)  { return (exp(x)-exp(-x))/2.; }\nfloat cosh(float x)  { return (exp(x)+exp(-x))/2.; }\nfloat tanh(float x)  { return sinh(x)/cosh(x); }\nfloat coth(float x)  { return cosh(x)/sinh(x); }\nfloat sech(float x)  { return 1./cosh(x); }\nfloat csch(float x)  { return 1./sinh(x); }\nfloat asinh(float x) { return    log(x+sqrt(x*x+1.)); }\nfloat acosh(float x) { return    log(x+sqrt(x*x-1.)); }\nfloat atanh(float x) { return .5*log((1.+x)/(1.-x)); }\nfloat acoth(float x) { return .5*log((x+1.)/(x-1.)); }\nfloat asech(float x) { return    log((1.+sqrt(1.-x*x))/x); }\nfloat acsch(float x) { return    log((1.+sqrt(1.+x*x))/x); }\n",l?(s+="vec4 textureLod(  sampler2D   s, vec2 c, float b)          { return texture2DLodEXT(s,c,b); }\n",s+="vec4 textureGrad( sampler2D   s, vec2 c, vec2 dx, vec2 dy) { return texture2DGradEXT(s,c,dx,dy); }\n"):de=de.replace("textureLod","texture")),s+=de,this.shader=e.linkShader(this.gl,r,s),this.shader.vertexAttribute=this.gl.getAttribLocation(this.shader,"aPosition"),this.gl.enableVertexAttribArray(this.shader.vertexAttribute),this.height=window.innerHeight/t,this.width=window.innerWidth/t,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this.vertexBuffer=e.createVBO(this.gl,3,[1,1,0,-1,1,0,1,-1,0,-1,-1,0]),this.running=!1,this.time0=0}var n,t,o;return n=e,o=[{key:"createVBO",value:function(e,n,t){var o=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW),o.itemSize=n,o.numItems=t.length/n,o}},{key:"linkShader",value:function(n,t,o){var i=n.createProgram();if(n.attachShader(i,e.compileShader(n,n.VERTEX_SHADER,t)),n.attachShader(i,e.compileShader(n,n.FRAGMENT_SHADER,o)),n.linkProgram(i),!n.getProgramParameter(i,n.LINK_STATUS))throw e.showLogProgram(n,i),"Failed to link shader!";return i.uniformLocation=function(e,n){return e.getUniformLocation(i,n)},i}},{key:"compileShader",value:function(n,t,o){var i=n.createShader(t);if(n.shaderSource(i,o),n.compileShader(i),!n.getShaderParameter(i,n.COMPILE_STATUS)){var c=t==n.VERTEX_SHADER?"vertex shader":"fragment shader";throw e.showLog(n,i),"Failed to compile ".concat(c)}return i}},{key:"getTime",value:function(){return.001*(new Date).getTime()}},{key:"showLog",value:function(e,n){var t=e.getShaderInfoLog(n);console.log("ERROR: "+t)}},{key:"showLogProgram",value:function(e,n){var t=e.getProgramInfoLog(n);console.log("ERROR: "+t)}}],(t=[{key:"loadTexture",value:function(e,n){var t=this,o=this.gl.createTexture(),i=this.gl;o.image=new Image,o.image.onload=function(){i.bindTexture(i.TEXTURE_2D,o),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!0);try{i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,o.image)}catch(e){console.log("ERROR: Failed to load texture ".concat(n," : ").concat(e)),console.log("INFO: Generating placeholder texture for ".concat(n));for(var c=[],r=0;r<64;r++)for(var a=0;a<64;a++){var l=(parseInt(a/4)+parseInt(r/4))%2*255;c=c.concat([l,l,l,255])}i.texImage2D(i.TEXTURE_2D,0,i.RGBA,64,64,0,i.RGBA,i.UNSIGNED_BYTE,new Uint8Array(c))}i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.bindTexture(i.TEXTURE_2D,null),t.textures[e]=o},o.image.src=n}},{key:"start",value:function(){this.running||this._start()}},{key:"_start",value:function(){this.running=!0,this.time0=e.getTime(),this.timePreviousFrame=this.time0,this.gl.disable(this.gl.DEPTH_TEST),this.gl.viewport(0,0,this.width,this.height),this.gl.useProgram(this.shader)}},{key:"stop",value:function(){this.running=!1}},{key:"frame",value:function(n){var t=this.gl;if(this.running){var o=this.shader,i=e.getTime()-this.time0;for(var c in this.timePreviousFrame,this.timePreviousFrame=i,t.clear(t.DEPTH_BUFFER_BIT),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.vertexAttribPointer(o.vertexAttribute,this.vertexBuffer.itemSize,t.FLOAT,!1,0,0),this.textures){var r=this.textures[c];t.activeTexture(t.TEXTURE0+parseInt(c)),t.bindTexture(t.TEXTURE_2D,r),t.uniform1i(t.getUniformLocation(o,"iChannel"+c),c)}t.uniform3f(t.getUniformLocation(o,"iResolution"),this.width,this.height,0),t.uniform1f(t.getUniformLocation(o,"iGlobalTime"),i),t.uniform1f(t.getUniformLocation(o,"iTime"),i),t.uniform1f(t.getUniformLocation(o,"gameTime"),n),t.drawArrays(t.TRIANGLE_STRIP,0,this.vertexBuffer.numItems)}}}])&&fe(n.prototype,t),o&&fe(n,o),e}();t.d(n,"canvas",(function(){return ke})),t.d(n,"width",(function(){return be})),t.d(n,"height",(function(){return Ee})),t.d(n,"ratio",(function(){return we})),t.d(n,"universe",(function(){return ge})),t.d(n,"reset",(function(){return Me}));var he=200,ve=100,ye=194,ge=o.b.new(he,he);function _e(){ge.paint(ve,ve,ye+2,o.a.Glass),ge.paint(ve-30,ye-3,20,o.a.Wood),ge.paint(ve+30,ye-3,20,o.a.Wood),ge.paint(ve,ve,ye-2,o.a.Air)}_e();var we=2,be=he,Ee=he,ke=document.getElementById("sand-canvas");ke.height=he*we*Math.ceil(window.devicePixelRatio),ke.width=he*we*Math.ceil(window.devicePixelRatio);var ze,Se=document.getElementById("HUD"),Ce=function(){var e=window.innerWidth,n="",t="",o="left";if(e-150>window.innerHeight-50)if(e-window.innerHeight<400){n="height: ".concat(window.innerHeight,"px; margin:3px"),ze=window.innerHeight;var i=e-window.innerHeight-12;t="width: ".concat(i,"px; margin: 2px;"),i<300&&(o="none")}else{n="height: ".concat(window.innerHeight,"px"),ze=window.innerHeight;var c=(e-window.innerHeight)/2-7;t="width: ".concat(c,"px; margin: 2px;"),c<300&&(o="none")}else ze=e,n="width: ".concat(e,"px; ");Se.style=t,ke.style=n,document.querySelector(".gauge").style.float=o};Ce(),window.addEventListener("deviceorientation",Ce,!0),window.addEventListener("resize",Ce);var Ae,De,Te=s({canvas:ke,universe:ge}),Ie=ze/he;try{(De=new xe("sky-canvas",2*Ie)).loadTexture(0,"assets/noise.png"),De.start(),Ae=De}catch(e){console.error("skys haunted"),Ae={frame:function(){}}}var Re=parseInt(localStorage.getItem("time"),10)||0;function Me(){console.log("reseting"),localStorage.setItem("cell_data",null),ge.reset(),localStorage.setItem("o2",ge.total_gas()/2),localStorage.setItem("time",0),_e()}window.u=ge,window.universe=ge,function e(){for(var n=performance.now(),t=window.ff?11:1,o=0;o<t;o++){var i=Re/50%255;if(window.paused||(ge.tick(),Re+=1,i>70&&i<170&&(Re+=10)),ge.set_time(i),window.gauge.setState({angle:45+270*ge.o2()/ge.total_gas()}),performance.now()-n>13)break}window.t=Re;var c=i/255;window.skyTime=c,Te.draw(),Ae.frame(c),window.animWebationId=requestAnimationFrame(e)}(),window.UI.load()},function(e,n,t){"use strict";t.d(n,"a",(function(){return h})),t.d(n,"b",(function(){return v})),t.d(n,"i",(function(){return y})),t.d(n,"c",(function(){return g})),t.d(n,"d",(function(){return _})),t.d(n,"e",(function(){return w})),t.d(n,"g",(function(){return b})),t.d(n,"f",(function(){return E})),t.d(n,"j",(function(){return k})),t.d(n,"h",(function(){return z}));var o=t(12);function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function c(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,n,t){return n&&c(e.prototype,n),t&&c(e,t),e}var a=new Array(32);a.fill(void 0),a.push(void 0,null,!0,!1);var l=a.length;function s(e){l===a.length&&a.push(a.length+1);var n=l;return l=a[n],a[n]=e,n}function u(e){return a[e]}function p(e){var n=u(e);return function(e){e<36||(a[e]=l,l=e)}(e),n}var m=new("undefined"==typeof TextDecoder?t(41).TextDecoder:TextDecoder)("utf-8"),f=null;function d(e,n){return m.decode((null!==f&&f.buffer===o.e.buffer||(f=new Uint8Array(o.e.buffer)),f).subarray(e,e+n))}var x,h=Object.freeze({Air:0,Glass:1,Sand:2,Stone:12,Wood:13,Water:3,Algae:4,Zoop:6,Daphnia:14,Grass:11,Plant:5,Bacteria:8,Fish:7,FishTail:15,GoldFish:18,GoldFishTail:19,Nitrogen:9,Waste:10,Bubble:16,Biofilm:17,Plastic:20}),v=function(){function e(){i(this,e)}return r(e,[{key:"free",value:function(){var e=this.ptr;this.ptr=0,o.d(e)}},{key:"reset",value:function(){o.t(this.ptr)}},{key:"calculate_light",value:function(){o.f(this.ptr)}},{key:"cast_ray",value:function(e,n,t,i,c){o.g(this.ptr,e,n,t,i,c)}},{key:"tick",value:function(){o.x(this.ptr)}},{key:"width",value:function(){return o.z(this.ptr)}},{key:"height",value:function(){return o.k(this.ptr)}},{key:"o2",value:function(){return o.o(this.ptr)>>>0}},{key:"total_gas",value:function(){return o.y(this.ptr)>>>0}},{key:"co2",value:function(){return o.i(this.ptr)>>>0}},{key:"cells",value:function(){return o.h(this.ptr)}},{key:"lights",value:function(){return o.m(this.ptr)}},{key:"sprite",value:function(){return o.w(this.ptr)}},{key:"place_sprite",value:function(e,n,t){o.q(this.ptr,e,n,s(t))}},{key:"paint",value:function(e,n,t,i){o.p(this.ptr,e,n,t,i)}},{key:"push_undo",value:function(){o.s(this.ptr)}},{key:"pop_undo",value:function(){o.r(this.ptr)}},{key:"flush_undos",value:function(){o.j(this.ptr)}},{key:"set_time",value:function(e){o.v(this.ptr,e)}},{key:"set_o2",value:function(e){o.u(this.ptr,e)}},{key:"inc_time",value:function(){o.l(this.ptr)}}],[{key:"__wrap",value:function(n){var t=Object.create(e.prototype);return t.ptr=n,t}},{key:"new",value:function(n,t){var i=o.n(n,t);return e.__wrap(i)}}]),e}(),y=function(e){p(e)},g=function(e){return s(u(e).buffer)},_=function(e){return u(e).length},w=function(e){return s(new Uint8Array(u(e)))},b=function(e,n,t){u(e).set(u(n),t>>>0)},E="function"==typeof Math.random?Math.random:(x="Math.random",function(){throw new Error("".concat(x," is not defined"))}),k=function(e,n){throw new Error(d(e,n))},z=function(){return s(o.e)}},,,,,,,,,,function(e,n,t){"use strict";var o=t.w[e.i];e.exports=o;t(2);o.A()},,,,,,,,,,,,,,,,,,function(e,n){e.exports='\n// boring "pass-through" vertex shader\nprecision mediump float;\n#define GLSLIFY 1\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}'},,function(e,n,t){e.exports=t.p+"assets/daphniaAlpha.gif"},function(e,n,t){e.exports=t.p+"assets/bubblebig.png"},function(e,n,t){e.exports=t.p+"assets/bubblemed.png"},function(e,n,t){e.exports=t.p+"assets/bubblesmall.png"},,,,,,,,,,,,,function(e,n){},,function(e,n){},,,,,,,,,,function(e,n){e.exports="precision highp float;\n#define GLSLIFY 1\nuniform float t;\nuniform float skyTime;\n\nuniform float dpi;\nuniform vec2 resolution;\nuniform bool isSnapshot;\nuniform sampler2D backBuffer;\nuniform sampler2D dataTexture;\nuniform sampler2D lightTexture;\nuniform sampler2D spriteTexture;\n\nvarying vec2 uv;\nconst float PI2 = 2. * 3.14159265358979323846;\n\n// clang-format off\nvec3 hsv2rgb(vec3 c) {\n  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_1(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289_1(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute_1(vec4 x) {\n     return mod289_1(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise_1(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g_0 = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g_0;\n  vec3 i1 = min( g_0.xyz, l.zxy );\n  vec3 i2 = max( g_0.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289_1(i);\n  vec4 p = permute_1( permute_1( permute_1(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\n//\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_0(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289_0(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute_0(vec3 x) {\n  return mod289_0(((x*34.0)+1.0)*x);\n}\n\nfloat snoise_0(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289_0(i); // Avoid truncation effects in permutation\n  vec3 p = permute_0( permute_0( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\nhighp float random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\n// clang-format on\n\nvec4 getColor(vec2 guv) {\n  vec3 color;\n  vec2 grid = floor(guv * (resolution / dpi));\n\n  vec2 waveyUV = guv;\n  waveyUV.x +=\n      snoise_1(vec3(grid / dpi / 2.0, t * 0.01)) * 4. * (dpi / resolution.x);\n\n  float noise = snoise_1(vec3(grid, t * 0.05));\n  vec2 noise_2d = vec2(floor(0.5 + noise),\n                       floor(0.5 + snoise_1(vec3(grid, (t + 20.) * 0.05))));\n\n  vec2 textCoord = (guv * vec2(0.5, -0.5)) + vec2(0.5);\n  vec2 sampleCoord = textCoord + (noise_2d / (resolution / 2.));\n\n  vec4 data = texture2D(dataTexture, textCoord);\n\n  // vec4 dataSample = texture2D(dataTexture, sampleCoord);\n\n  vec4 lightCell = texture2D(lightTexture, textCoord);\n  vec4 spriteValue = texture2D(spriteTexture, textCoord);\n\n  float lightValue = lightCell.r;\n  float sparkleValue = lightCell.g;\n  float blueLightValue = lightCell.b;\n\n  vec4 lightSampleCell = texture2D(lightTexture, sampleCoord);\n  float sampleLightValue = lightSampleCell.r;\n\n  lightValue = 0.5 * lightValue + 0.5 * sampleLightValue;\n  lightValue += sparkleValue * (0.5 + noise * 0.1);\n  int type = int((data.r * 255.) + 0.1);\n  float energy = data.g;\n  float age = data.b;\n\n  float hue = 0.0;\n  float saturation = 0.6;\n  float lightness = 0.3 + energy * 0.5;\n  float a = 1.0;\n  float brightness = 0.0;\n\n  // if (type == 5 || type == 17) {\n  //   // guv = waveyUV;\n  //   return getColor(waveyUV);\n  // }\n  if (type == 0) { // Air\n\n    hue = 0.0;\n    saturation = 0.1;\n    lightness = 0.1;\n    a = 0.0;\n    if (isSnapshot) {\n      saturation = 0.05;\n      lightness = 1.01;\n      a = 1.0;\n    }\n\n  } else if (type == 1) { // Glass\n    hue = 0.1;\n    saturation = 0.2;\n    lightness = 1.0;\n    a = 0.4 + lightValue * 0.3;\n  } else if (type == 2) { // Sand\n    hue = 0.1;\n    saturation = 0.4 + (age * 0.3);\n    lightness = 1.0 - energy * 0.5;\n\n  } else if (type == 3) { // Water\n    hue = 0.58;\n    saturation = 0.6;\n    lightness = 0.5 + energy * 0.25 + noise * 0.1;\n    a = 0.4;\n    if (isSnapshot) {\n      a = 1.0;\n    }\n  } else if (type == 4) { // Algae\n    hue = 0.4 - age * 0.3;\n    lightness += 0.1;\n    saturation = 0.5 - (energy * .1);\n    a = 0.8;\n  } else if (type == 5) { // Plant\n    hue = 0.4;\n    saturation = 0.4;\n\n    if (energy > 45. / 255.) {\n      hue = 0.48;\n    }\n    if (age == 0.) {\n      // saturation = 0.9;\n    }\n    lightness = 0.2 + (1.0 - energy) * 0.4;\n\n  } else if (type == 6) { // Zoop\n    hue = 0.9;\n    lightness += 0.7;\n  } else if (type == 7) { // Fish\n    hue = 0.0;\n    lightness += 0.4;\n  } else if (type == 8) { // Bacteria\n    hue = 0.66;\n    saturation += 0.2;\n    lightness += 0.2;\n    a = 0.4;\n    if (isSnapshot) {\n      // lightness += 0.8;\n      saturation -= 0.2;\n\n      a = 1.0;\n    }\n\n  } else if (type == 9) { // ???\n    hue = 0.6;\n    saturation = 0.4;\n    lightness = 0.7 + data.g * 0.5;\n  } else if (type == 10) { // Waste\n    hue = 0.9;\n    lightness -= 0.2;\n    saturation = 0.4;\n    a = 0.8;\n  } else if (type == 11) { // Grass\n    hue = 0.4;\n    saturation = 0.4;\n  } else if (type == 12) { // Stone\n    hue = -0.4 + (data.g * 0.5);\n    saturation = 0.1;\n  } else if (type == 13) { // Wood\n    hue = (data.g * 0.1);\n    saturation = 0.3;\n    lightness = 0.3 + data.g * 0.3;\n  } else if (type == 14) { // Egg\n    hue = 0.9;\n    saturation = age / 3.;\n    lightness = 1.0;\n    a = 0.8;\n\n  } else if (type == 15) { // Tail\n    hue += fract(age * 1.9 * 255. / 8.) * 0.2;\n    lightness += 0.4;\n    saturation -= (fract(age * 1.9 * 255. / 8.) - 0.1) * 0.7;\n\n    // saturation += fract(age * 255.*6.);\n  } else if (type == 16) { // bubble\n\n    hue = 0.0;\n    saturation = 0.1;\n    lightness = 0.1;\n    a = 0.0;\n    if (isSnapshot) {\n      saturation = 0.05;\n      lightness = 1.01;\n      a = 1.0;\n    }\n  } else if (type == 17) { // biofilm\n    hue = 0.48;\n    saturation = 0.6;\n    lightness = 0.5 + energy * 0.25 + noise * 0.1;\n    a = 0.4;\n    if (isSnapshot) {\n      a = 1.0;\n    }\n  } else if (type == 18) { // goldfish\n    hue = 0.1;\n    lightness += 0.3;\n    saturation = 0.9;\n  } else if (type == 19) { // goldfishtail\n    hue = 0.1;\n    hue += fract(age * 1.9 * 255. / 9.) * 0.1;\n    lightness += 0.6;\n    saturation = 0.9;\n    saturation -= (fract(age * 1.9 * 255. / 7.) - 0.1) * 0.6;\n  } else if (type == 20) { // plastic\n    hue = 0.1;\n    lightness += 0.5;\n    saturation = 0.1;\n  }\n  lightness *= 0.85 + cos(skyTime * PI2) * 0.2;\n\n  // } else if (type == 16) { // oil\n  //   hue = (data.g * 5.0) + t * .008;\n\n  //   saturation = 0.2;\n  //   lightness = 0.3;\n  // } else if (type == 17) { // Rocket\n  //   hue = 0.0;\n  //   saturation = 0.4 + data.b;\n  //   lightness = 0.9;\n  // } else if (type == 18) { // fungus\n  //   hue = (data.g * 0.15) - 0.1;\n  //   saturation = (data.g * 0.8) - 0.05;\n\n  //   // (data.g * 0.00);\n  //   lightness = 1.5 - (data.g * 0.2);\n  // } else if (type == 19) { // Grass/flower\n\n  //   hue = fract(fract(data.b * 2.) * 0.5) - 0.3;\n  //   saturation = 0.7 * (data.g + 0.4) + data.b * 0.2;\n  //   lightness = 0.9 * (data.g + 0.9);\n  // }\n  if (isSnapshot == false) {\n    lightness *= (0.975 + snoise_0(floor(guv * resolution / dpi)) * 0.025);\n  }\n  lightness += lightValue / 2.;\n  saturation = min(saturation, 1.0);\n  lightness = min(lightness, 1.0);\n  color = hsv2rgb(vec3(hue, saturation, lightness));\n\n  color += vec3(0.25, 0.25, 0.7) * 0.6 * (blueLightValue + lightSampleCell.b);\n  a += blueLightValue + lightSampleCell.b;\n  vec4 fake_gl_FragColor = vec4(color, a);\n  if (spriteValue.a > 0.) {\n    vec4 spriteColor = spriteValue;\n\n    spriteColor.rgb *= ((lightValue) + 0.7);\n    fake_gl_FragColor = spriteColor;\n  }\n  return fake_gl_FragColor;\n}\n\nvoid main() {\n  vec2 guv = uv;\n  vec3 color;\n  vec2 grid = floor(guv * (resolution / (dpi * 2.)));\n\n  vec2 waveyUV = guv;\n  guv.x +=\n      snoise_1(vec3(grid / dpi / 2.0, t * 0.002)) * 1.5 * (dpi / resolution.x);\n  grid = floor(guv * (resolution / dpi));\n\n  float noise = snoise_1(vec3(grid, t * 0.05));\n  vec2 noise_2d = vec2(floor(0.5 + noise),\n                       floor(0.5 + snoise_1(vec3(grid, (t + 20.) * 0.05))));\n\n  vec2 textCoord = (guv * vec2(0.5, -0.5)) + vec2(0.5);\n  vec2 sampleCoord = textCoord + (noise_2d / (resolution / 2.));\n\n  vec4 data = texture2D(dataTexture, textCoord);\n\n  // vec4 dataSample = texture2D(dataTexture, sampleCoord);\n\n  vec4 lightCell = texture2D(lightTexture, textCoord);\n  vec4 spriteValue = texture2D(spriteTexture, textCoord);\n\n  float lightValue = lightCell.r;\n  float sparkleValue = lightCell.g;\n  float blueLightValue = lightCell.b;\n\n  vec4 lightSampleCell = texture2D(lightTexture, sampleCoord);\n  float sampleLightValue = lightSampleCell.r;\n\n  lightValue = 0.5 * lightValue + 0.5 * sampleLightValue;\n  lightValue += sparkleValue * (0.5 + noise * 0.1);\n  int type = int((data.r * 255.) + 0.1);\n  float energy = data.g;\n  float age = data.b;\n\n  float hue = 0.0;\n  float saturation = 0.6;\n  float lightness = 0.3 + energy * 0.5;\n  float a = 1.0;\n  float brightness = 0.0;\n\n  if ((type == 5 || type == 17) && !isSnapshot) {\n    // guv = waveyUV;\n    gl_FragColor = getColor(guv);\n\n  } else {\n    gl_FragColor = getColor(uv);\n  }\n  // gl_FragColor = getColor(uv);\n}"},function(e,n){e.exports="precision highp float;\n#define GLSLIFY 1\nuniform float t;\nuniform float i;\nuniform float max_readings;\nuniform float n_readings;\nuniform float dpi;\nuniform vec2 resolution;\nuniform sampler2D data;\n\nvarying vec2 uv;\n\n// clang-format off\nvec3 hsv2rgb(vec3 c) {\n  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_0(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289_0(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 permute_0(vec4 x) {\n     return mod289_0(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\nfloat snoise_0(vec3 v)\n  {\n  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;\n  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);\n\n// First corner\n  vec3 i  = floor(v + dot(v, C.yyy) );\n  vec3 x0 =   v - i + dot(i, C.xxx) ;\n\n// Other corners\n  vec3 g_0 = step(x0.yzx, x0.xyz);\n  vec3 l = 1.0 - g_0;\n  vec3 i1 = min( g_0.xyz, l.zxy );\n  vec3 i2 = max( g_0.xyz, l.zxy );\n\n  //   x0 = x0 - 0.0 + 0.0 * C.xxx;\n  //   x1 = x0 - i1  + 1.0 * C.xxx;\n  //   x2 = x0 - i2  + 2.0 * C.xxx;\n  //   x3 = x0 - 1.0 + 3.0 * C.xxx;\n  vec3 x1 = x0 - i1 + C.xxx;\n  vec3 x2 = x0 - i2 + C.yyy; // 2.0*C.x = 1/3 = C.y\n  vec3 x3 = x0 - D.yyy;      // -1.0+3.0*C.x = -0.5 = -D.y\n\n// Permutations\n  i = mod289_0(i);\n  vec4 p = permute_0( permute_0( permute_0(\n             i.z + vec4(0.0, i1.z, i2.z, 1.0 ))\n           + i.y + vec4(0.0, i1.y, i2.y, 1.0 ))\n           + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));\n\n// Gradients: 7x7 points over a square, mapped onto an octahedron.\n// The ring size 17*17 = 289 is close to a multiple of 49 (49*6 = 294)\n  float n_ = 0.142857142857; // 1.0/7.0\n  vec3  ns = n_ * D.wyz - D.xzx;\n\n  vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,7*7)\n\n  vec4 x_ = floor(j * ns.z);\n  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)\n\n  vec4 x = x_ *ns.x + ns.yyyy;\n  vec4 y = y_ *ns.x + ns.yyyy;\n  vec4 h = 1.0 - abs(x) - abs(y);\n\n  vec4 b0 = vec4( x.xy, y.xy );\n  vec4 b1 = vec4( x.zw, y.zw );\n\n  //vec4 s0 = vec4(lessThan(b0,0.0))*2.0 - 1.0;\n  //vec4 s1 = vec4(lessThan(b1,0.0))*2.0 - 1.0;\n  vec4 s0 = floor(b0)*2.0 + 1.0;\n  vec4 s1 = floor(b1)*2.0 + 1.0;\n  vec4 sh = -step(h, vec4(0.0));\n\n  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;\n  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;\n\n  vec3 p0 = vec3(a0.xy,h.x);\n  vec3 p1 = vec3(a0.zw,h.y);\n  vec3 p2 = vec3(a1.xy,h.z);\n  vec3 p3 = vec3(a1.zw,h.w);\n\n//Normalise gradients\n  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));\n  p0 *= norm.x;\n  p1 *= norm.y;\n  p2 *= norm.z;\n  p3 *= norm.w;\n\n// Mix final noise value\n  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);\n  m = m * m;\n  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1),\n                                dot(p2,x2), dot(p3,x3) ) );\n  }\n\n//\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_1(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289_1(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute_1(vec3 x) {\n  return mod289_1(((x*34.0)+1.0)*x);\n}\n\nfloat snoise_1(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289_1(i); // Avoid truncation effects in permutation\n  vec3 p = permute_1( permute_1( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\nhighp float random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\n// clang-format on\n\nvoid main() {\n  vec3 color;\n  vec2 grid = floor(uv * resolution / dpi);\n  vec2 pixel = 1. / resolution;\n  vec2 pos = (uv + vec2(1.0)) * 0.5;\n\n  // pos.x = fract(pos.x + i / max_readings);\n  vec2 textCoord = vec2(pos.x, 0.5);\n  //   vec2 textCoord = (uv * vec2(0.5, 0)) + vec2(0.5);\n\n  vec4 data = texture2D(data, textCoord);\n  float v = data.x;\n  float buckets = resolution.y / 4.;\n  // discretized\n  float dV = floor(v * buckets) / buckets;\n  // float dVLeading = floor(data.a * buckets) / buckets;\n\n  float a = 1.0;\n\n  //   vec2 pos+= (i*4.)/max_readings;\n  //   lightness = min(lightness, 1.0);\n  gl_FragColor = vec4(0.98, 1., 0.98, 0.5);\n\n  //   if (\n\n  if (pos.x < n_readings / max_readings && abs(dV - pos.y) < pixel.y * 2.0) {\n    gl_FragColor = vec4(hsv2rgb(vec3(-0.1 + v * 0.8, 0.5, 0.5)), 1.0);\n\n  } else if (abs((i / max_readings) - pos.x) < pixel.x * 4.\n\n             && abs(dV - pos.y) < pixel.y * 2.0 && dV > 0.) {\n    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n\n  } else if (abs((pos.y - 0.5) * resolution.y) < 2.0 &&\n             mod(pos.x * resolution.x, 8.0) > 4.0) {\n    gl_FragColor = vec4(0., 0.1, 0., 0.4);\n  }\n\n  //  else {\n  // }\n}"},,,,,,,,function(e,n,t){var o={"./100.ico":70,"./8ball.ico":71,"./TV.ico":72,"./WinRep.ico":73,"./accessibility_contrast.ico":74,"./accessibility_kbd_mouse.ico":75,"./accessibility_two_windows.ico":76,"./accessibility_window_objs.ico":77,"./active_movie.ico":78,"./address_book.ico":79,"./address_book_home.ico":80,"./address_book_pad.ico":81,"./address_book_user.ico":82,"./alien2.ico":83,"./anchor.ico":84,"./apple.ico":85,"./armchair.ico":86,"./ball.ico":87,"./banana.ico":88,"./bart.ico":89,"./baseball.ico":90,"./battery.ico":91,"./bee.ico":92,"./bone.ico":93,"./bow.ico":94,"./briefcase.ico":95,"./bust.ico":96,"./c-clamp.ico":97,"./cactus.ico":98,"./calculator.ico":99,"./calendar.ico":100,"./camera.ico":101,"./camera2.ico":102,"./camera3.ico":103,"./camera3_vid.ico":104,"./camera_2.ico":105,"./camera_vid.ico":106,"./carrot.ico":107,"./cassette_tape.ico":108,"./castle.ico":109,"./castle2.ico":110,"./caution.ico":111,"./cd_audio_cd.ico":112,"./cd_audio_cd_a.ico":113,"./cd_drive.ico":114,"./cd_drive_purple.ico":115,"./certificate_seal.ico":116,"./chair.ico":117,"./chamomile.ico":118,"./channels.ico":119,"./chart1.ico":120,"./cherry.ico":121,"./cherryblossom.ico":122,"./chip_ramdrive.ico":123,"./clean_drive.ico":124,"./clock.ico":125,"./coin.ico":126,"./computer.ico":127,"./computer2.ico":128,"./computer_2.ico":129,"./computer_2_cool.ico":130,"./computer_explorer.ico":131,"./computer_explorer_2k.ico":132,"./computer_explorer_cool.ico":133,"./computer_gear.ico":134,"./computer_padlock.ico":135,"./computer_search.ico":136,"./computer_taskmgr.ico":137,"./computer_win.ico":138,"./controller.ico":139,"./crown.ico":140,"./crucifix.ico":141,"./cube.ico":142,"./cubeblue.ico":143,"./cursor.ico":144,"./cylinder_database.ico":145,"./dead.ico":146,"./defragment.ico":147,"./desktop_old.ico":148,"./desktop_w95.ico":149,"./dice2.ico":150,"./dinoegg.ico":151,"./directory_closed.ico":152,"./directory_closed_cool.ico":153,"./directory_explorer.ico":154,"./directory_open.ico":155,"./directory_open_cabinet.ico":156,"./directory_open_cabinet_fc.ico":157,"./directory_open_cool.ico":158,"./directory_open_file_mydocs_cool.ico":159,"./directory_open_file_mydocs_small.ico":160,"./directory_shared.ico":161,"./directory_web.ico":162,"./directory_zipper.ico":163,"./disc.ico":164,"./display_properties.ico":165,"./dna.ico":166,"./dollar.ico":167,"./donut.ico":168,"./drum_onestick.ico":169,"./earth.ico":170,"./egg.ico":171,"./eiffel.ico":172,"./elephant.ico":173,"./entire_network_globe.ico":174,"./envelope_closed.ico":175,"./expand_hierarchial_array.ico":176,"./expansion_board.ico":177,"./expansion_board_modem.ico":178,"./eyeball.ico":179,"./fax_machine.ico":180,"./flower.ico":181,"./folder.ico":182,"./frame_web.ico":183,"./game_freecell.ico":184,"./game_mine_1.ico":185,"./game_mine_2.ico":186,"./game_solitaire.ico":187,"./game_spider.ico":188,"./gameboy.ico":189,"./gears.ico":190,"./gears_tweakui_b.ico":191,"./gem1.ico":192,"./gem2.ico":193,"./glasses3d.ico":194,"./globe_map.ico":195,"./gps.ico":196,"./grave.ico":197,"./hard_disk_drive.ico":198,"./hard_disk_drives.ico":199,"./hardware.ico":200,"./heartPastel.ico":201,"./heel.ico":202,"./help_book_big.ico":203,"./help_book_cool.ico":204,"./help_book_cool_small.ico":205,"./help_book_small.ico":206,"./help_question_mark.ico":207,"./herb.ico":208,"./hibiscus.ico":209,"./history.ico":210,"./horse.ico":211,"./infrared.ico":212,"./input_devices.ico":213,"./installer.ico":214,"./installer_generic_old.ico":215,"./internet_connection_wiz.ico":216,"./internet_options_old_e.ico":217,"./ipad.ico":218,"./itunes.ico":219,"./jasmineflower.ico":220,"./joystick.ico":221,"./joystick_alt.ico":222,"./key.ico":223,"./key_gray.ico":224,"./key_padlock.ico":225,"./key_win_alt.ico":226,"./keyboard.ico":227,"./keyboard_musical.ico":228,"./keyboard_musical_midi.ico":229,"./keys.ico":230,"./keys2.ico":231,"./kodak_imaging.ico":232,"./laptop.ico":233,"./laptop_small.ico":234,"./lemon.ico":235,"./lighter.ico":236,"./lips.ico":237,"./magnifying_glass.ico":238,"./magnifying_glass_3.ico":239,"./magnifying_glass_4.ico":240,"./mailbox_world.ico":241,"./marble.ico":242,"./media_player.ico":243,"./media_player_stream_sun0.ico":244,"./media_player_stream_sun4.ico":245,"./memory.ico":246,"./mess.ico":247,"./message_envelope_open.ico":248,"./message_file.ico":249,"./message_tack.ico":250,"./mic.ico":251,"./microphone.ico":252,"./microphone_2.ico":253,"./minesweeper.ico":254,"./modem.ico":255,"./monitor_application.ico":256,"./monitor_moon.ico":257,"./monitor_windows.ico":258,"./moon.ico":259,"./mouse.ico":260,"./mouse2.ico":261,"./mouse_ms.ico":262,"./mouse_padlock.ico":263,"./mouse_snap.ico":264,"./movie_maker.ico":265,"./msg_warning.ico":266,"./msie1.ico":267,"./msie2.ico":268,"./msie_box.ico":269,"./msinfo32.ico":270,"./msn.ico":271,"./msn2.ico":272,"./msn3.ico":273,"./msn_cool.ico":274,"./mug.ico":275,"./music.ico":276,"./nasa.ico":277,"./nautilus.ico":278,"./netmeeting.ico":279,"./netmeeting_share.ico":280,"./netshow.ico":281,"./netshow_notransm.ico":282,"./network_cool_two_pcs.ico":283,"./network_internet_pcs_installer.ico":284,"./network_normal_two_pcs.ico":285,"./network_televisons.ico":286,"./network_three_pcs.ico":287,"./newspaper.ico":288,"./newspaper_mail.ico":289,"./note.ico":290,"./notepad.ico":291,"./notepad_file.ico":292,"./officechair.ico":293,"./onigiri.ico":294,"./orb.ico":295,"./paint.ico":296,"./paint_file.ico":297,"./paint_old.ico":298,"./paintbrush.ico":299,"./palm_computer.ico":300,"./palmtree.ico":301,"./paper_roll.ico":302,"./pawn.ico":303,"./pci_card.ico":304,"./pci_card_alt.ico":305,"./pcx.ico":306,"./pcx_alt.ico":307,"./peach.ico":308,"./pencil.ico":309,"./phone_desk.ico":310,"./pictures.ico":311,"./pie_chart_drvspace.ico":312,"./pifedit.ico":313,"./pin.ico":314,"./pineapple.ico":315,"./pizza2.ico":316,"./pokeball.ico":317,"./pot.ico":318,"./prideflag.ico":319,"./printer.ico":320,"./processor.ico":321,"./ps2.ico":322,"./pyramid.ico":323,"./rainbow.ico":324,"./ram_drive.ico":325,"./recycle_bin_directory.ico":326,"./recycle_bin_empty.ico":327,"./recycle_bin_empty_2k.ico":328,"./recycle_bin_empty_cool.ico":329,"./recycle_bin_file.ico":330,"./recycle_bin_file_directory.ico":331,"./recycle_bin_full.ico":332,"./recycle_bin_full_2k.ico":333,"./recycle_bin_full_cool.ico":334,"./regedit.ico":335,"./regedit_file.ico":336,"./registration.ico":337,"./removable_disk_drive.ico":338,"./removable_disk_drive_alt.ico":339,"./replace_directory.ico":340,"./ring.ico":341,"./saturn.ico":342,"./sauron.ico":343,"./scandisk.ico":344,"./scanner.ico":345,"./scanner_alt.ico":346,"./scanner_alt_network.ico":347,"./scanner_video_cam.ico":348,"./scanregw.ico":349,"./screen_keyboard.ico":350,"./search_computer.ico":351,"./search_file.ico":352,"./search_file_2.ico":353,"./search_file_2_cool.ico":354,"./search_file_3.ico":355,"./search_laptop_2.ico":356,"./search_web.ico":357,"./server_gear.ico":358,"./server_window.ico":359,"./settings_gear.ico":360,"./settings_gear_cool.ico":361,"./shell_window1.ico":362,"./shell_window2.ico":363,"./ship.ico":364,"./shut_down_cool.ico":365,"./shut_down_normal.ico":366,"./shut_down_with_computer.ico":367,"./sims.ico":368,"./skull.ico":369,"./sparkle.ico":370,"./sparkleheart.ico":371,"./spider.ico":372,"./spinner.ico":373,"./squash.ico":374,"./standby_monitor_moon.ico":375,"./standby_monitor_moon_cool.ico":376,"./statue.ico":377,"./sword.ico":378,"./table.ico":379,"./telephony.ico":380,"./template_empty.ico":381,"./tombone.ico":382,"./tools_gear.ico":383,"./tooth.ico":384,"./trans.ico":385,"./transfer.ico":386,"./tree.ico":387,"./trophy.ico":388,"./true_type_paint.ico":389,"./umbrella.ico":390,"./usb.ico":391,"./user_network.ico":392,"./vlc.ico":393,"./volleyball.ico":394,"./whale.ico":395,"./wia_img_color.ico":396,"./windows.ico":397,"./windows_button.ico":398,"./windows_slanted.ico":399,"./windows_update_large.ico":400,"./windows_update_old.ico":401,"./windows_update_small.ico":402,"./wm.ico":403,"./word.ico":404,"./world.ico":405,"./world_lock.ico":406,"./world_phonereceiver.ico":407,"./world_star.ico":408,"./write_wordpad.ico":409,"./write_yellow.ico":410,"./xml.ico":411,"./xml_gear.ico":412,"./yin-yang.ico":413};function i(e){var n=c(e);return t(n)}function c(e){if(!t.o(o,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return o[e]}i.keys=function(){return Object.keys(o)},i.resolve=c,e.exports=i,i.id=69},function(e,n,t){e.exports=t.p+"ico/100.ico"},function(e,n,t){e.exports=t.p+"ico/8ball.ico"},function(e,n,t){e.exports=t.p+"ico/TV.ico"},function(e,n,t){e.exports=t.p+"ico/WinRep.ico"},function(e,n,t){e.exports=t.p+"ico/accessibility_contrast.ico"},function(e,n,t){e.exports=t.p+"ico/accessibility_kbd_mouse.ico"},function(e,n,t){e.exports=t.p+"ico/accessibility_two_windows.ico"},function(e,n,t){e.exports=t.p+"ico/accessibility_window_objs.ico"},function(e,n,t){e.exports=t.p+"ico/active_movie.ico"},function(e,n,t){e.exports=t.p+"ico/address_book.ico"},function(e,n,t){e.exports=t.p+"ico/address_book_home.ico"},function(e,n,t){e.exports=t.p+"ico/address_book_pad.ico"},function(e,n,t){e.exports=t.p+"ico/address_book_user.ico"},function(e,n,t){e.exports=t.p+"ico/alien2.ico"},function(e,n,t){e.exports=t.p+"ico/anchor.ico"},function(e,n,t){e.exports=t.p+"ico/apple.ico"},function(e,n,t){e.exports=t.p+"ico/armchair.ico"},function(e,n,t){e.exports=t.p+"ico/ball.ico"},function(e,n,t){e.exports=t.p+"ico/banana.ico"},function(e,n,t){e.exports=t.p+"ico/bart.ico"},function(e,n,t){e.exports=t.p+"ico/baseball.ico"},function(e,n,t){e.exports=t.p+"ico/battery.ico"},function(e,n,t){e.exports=t.p+"ico/bee.ico"},function(e,n,t){e.exports=t.p+"ico/bone.ico"},function(e,n,t){e.exports=t.p+"ico/bow.ico"},function(e,n,t){e.exports=t.p+"ico/briefcase.ico"},function(e,n,t){e.exports=t.p+"ico/bust.ico"},function(e,n,t){e.exports=t.p+"ico/c-clamp.ico"},function(e,n,t){e.exports=t.p+"ico/cactus.ico"},function(e,n,t){e.exports=t.p+"ico/calculator.ico"},function(e,n,t){e.exports=t.p+"ico/calendar.ico"},function(e,n,t){e.exports=t.p+"ico/camera.ico"},function(e,n,t){e.exports=t.p+"ico/camera2.ico"},function(e,n,t){e.exports=t.p+"ico/camera3.ico"},function(e,n,t){e.exports=t.p+"ico/camera3_vid.ico"},function(e,n,t){e.exports=t.p+"ico/camera_2.ico"},function(e,n,t){e.exports=t.p+"ico/camera_vid.ico"},function(e,n,t){e.exports=t.p+"ico/carrot.ico"},function(e,n,t){e.exports=t.p+"ico/cassette_tape.ico"},function(e,n,t){e.exports=t.p+"ico/castle.ico"},function(e,n,t){e.exports=t.p+"ico/castle2.ico"},function(e,n,t){e.exports=t.p+"ico/caution.ico"},function(e,n,t){e.exports=t.p+"ico/cd_audio_cd.ico"},function(e,n,t){e.exports=t.p+"ico/cd_audio_cd_a.ico"},function(e,n,t){e.exports=t.p+"ico/cd_drive.ico"},function(e,n,t){e.exports=t.p+"ico/cd_drive_purple.ico"},function(e,n,t){e.exports=t.p+"ico/certificate_seal.ico"},function(e,n,t){e.exports=t.p+"ico/chair.ico"},function(e,n,t){e.exports=t.p+"ico/chamomile.ico"},function(e,n,t){e.exports=t.p+"ico/channels.ico"},function(e,n,t){e.exports=t.p+"ico/chart1.ico"},function(e,n,t){e.exports=t.p+"ico/cherry.ico"},function(e,n,t){e.exports=t.p+"ico/cherryblossom.ico"},function(e,n,t){e.exports=t.p+"ico/chip_ramdrive.ico"},function(e,n,t){e.exports=t.p+"ico/clean_drive.ico"},function(e,n,t){e.exports=t.p+"ico/clock.ico"},function(e,n,t){e.exports=t.p+"ico/coin.ico"},function(e,n,t){e.exports=t.p+"ico/computer.ico"},function(e,n,t){e.exports=t.p+"ico/computer2.ico"},function(e,n,t){e.exports=t.p+"ico/computer_2.ico"},function(e,n,t){e.exports=t.p+"ico/computer_2_cool.ico"},function(e,n,t){e.exports=t.p+"ico/computer_explorer.ico"},function(e,n,t){e.exports=t.p+"ico/computer_explorer_2k.ico"},function(e,n,t){e.exports=t.p+"ico/computer_explorer_cool.ico"},function(e,n,t){e.exports=t.p+"ico/computer_gear.ico"},function(e,n,t){e.exports=t.p+"ico/computer_padlock.ico"},function(e,n,t){e.exports=t.p+"ico/computer_search.ico"},function(e,n,t){e.exports=t.p+"ico/computer_taskmgr.ico"},function(e,n,t){e.exports=t.p+"ico/computer_win.ico"},function(e,n,t){e.exports=t.p+"ico/controller.ico"},function(e,n,t){e.exports=t.p+"ico/crown.ico"},function(e,n,t){e.exports=t.p+"ico/crucifix.ico"},function(e,n,t){e.exports=t.p+"ico/cube.ico"},function(e,n,t){e.exports=t.p+"ico/cubeblue.ico"},function(e,n,t){e.exports=t.p+"ico/cursor.ico"},function(e,n,t){e.exports=t.p+"ico/cylinder_database.ico"},function(e,n,t){e.exports=t.p+"ico/dead.ico"},function(e,n,t){e.exports=t.p+"ico/defragment.ico"},function(e,n,t){e.exports=t.p+"ico/desktop_old.ico"},function(e,n,t){e.exports=t.p+"ico/desktop_w95.ico"},function(e,n,t){e.exports=t.p+"ico/dice2.ico"},function(e,n,t){e.exports=t.p+"ico/dinoegg.ico"},function(e,n,t){e.exports=t.p+"ico/directory_closed.ico"},function(e,n,t){e.exports=t.p+"ico/directory_closed_cool.ico"},function(e,n,t){e.exports=t.p+"ico/directory_explorer.ico"},function(e,n,t){e.exports=t.p+"ico/directory_open.ico"},function(e,n,t){e.exports=t.p+"ico/directory_open_cabinet.ico"},function(e,n,t){e.exports=t.p+"ico/directory_open_cabinet_fc.ico"},function(e,n,t){e.exports=t.p+"ico/directory_open_cool.ico"},function(e,n,t){e.exports=t.p+"ico/directory_open_file_mydocs_cool.ico"},function(e,n,t){e.exports=t.p+"ico/directory_open_file_mydocs_small.ico"},function(e,n,t){e.exports=t.p+"ico/directory_shared.ico"},function(e,n,t){e.exports=t.p+"ico/directory_web.ico"},function(e,n,t){e.exports=t.p+"ico/directory_zipper.ico"},function(e,n,t){e.exports=t.p+"ico/disc.ico"},function(e,n,t){e.exports=t.p+"ico/display_properties.ico"},function(e,n,t){e.exports=t.p+"ico/dna.ico"},function(e,n,t){e.exports=t.p+"ico/dollar.ico"},function(e,n,t){e.exports=t.p+"ico/donut.ico"},function(e,n,t){e.exports=t.p+"ico/drum_onestick.ico"},function(e,n,t){e.exports=t.p+"ico/earth.ico"},function(e,n,t){e.exports=t.p+"ico/egg.ico"},function(e,n,t){e.exports=t.p+"ico/eiffel.ico"},function(e,n,t){e.exports=t.p+"ico/elephant.ico"},function(e,n,t){e.exports=t.p+"ico/entire_network_globe.ico"},function(e,n,t){e.exports=t.p+"ico/envelope_closed.ico"},function(e,n,t){e.exports=t.p+"ico/expand_hierarchial_array.ico"},function(e,n,t){e.exports=t.p+"ico/expansion_board.ico"},function(e,n,t){e.exports=t.p+"ico/expansion_board_modem.ico"},function(e,n,t){e.exports=t.p+"ico/eyeball.ico"},function(e,n,t){e.exports=t.p+"ico/fax_machine.ico"},function(e,n,t){e.exports=t.p+"ico/flower.ico"},function(e,n,t){e.exports=t.p+"ico/folder.ico"},function(e,n,t){e.exports=t.p+"ico/frame_web.ico"},function(e,n,t){e.exports=t.p+"ico/game_freecell.ico"},function(e,n,t){e.exports=t.p+"ico/game_mine_1.ico"},function(e,n,t){e.exports=t.p+"ico/game_mine_2.ico"},function(e,n,t){e.exports=t.p+"ico/game_solitaire.ico"},function(e,n,t){e.exports=t.p+"ico/game_spider.ico"},function(e,n,t){e.exports=t.p+"ico/gameboy.ico"},function(e,n,t){e.exports=t.p+"ico/gears.ico"},function(e,n,t){e.exports=t.p+"ico/gears_tweakui_b.ico"},function(e,n,t){e.exports=t.p+"ico/gem1.ico"},function(e,n,t){e.exports=t.p+"ico/gem2.ico"},function(e,n,t){e.exports=t.p+"ico/glasses3d.ico"},function(e,n,t){e.exports=t.p+"ico/globe_map.ico"},function(e,n,t){e.exports=t.p+"ico/gps.ico"},function(e,n,t){e.exports=t.p+"ico/grave.ico"},function(e,n,t){e.exports=t.p+"ico/hard_disk_drive.ico"},function(e,n,t){e.exports=t.p+"ico/hard_disk_drives.ico"},function(e,n,t){e.exports=t.p+"ico/hardware.ico"},function(e,n,t){e.exports=t.p+"ico/heartPastel.ico"},function(e,n,t){e.exports=t.p+"ico/heel.ico"},function(e,n,t){e.exports=t.p+"ico/help_book_big.ico"},function(e,n,t){e.exports=t.p+"ico/help_book_cool.ico"},function(e,n,t){e.exports=t.p+"ico/help_book_cool_small.ico"},function(e,n,t){e.exports=t.p+"ico/help_book_small.ico"},function(e,n,t){e.exports=t.p+"ico/help_question_mark.ico"},function(e,n,t){e.exports=t.p+"ico/herb.ico"},function(e,n,t){e.exports=t.p+"ico/hibiscus.ico"},function(e,n,t){e.exports=t.p+"ico/history.ico"},function(e,n,t){e.exports=t.p+"ico/horse.ico"},function(e,n,t){e.exports=t.p+"ico/infrared.ico"},function(e,n,t){e.exports=t.p+"ico/input_devices.ico"},function(e,n,t){e.exports=t.p+"ico/installer.ico"},function(e,n,t){e.exports=t.p+"ico/installer_generic_old.ico"},function(e,n,t){e.exports=t.p+"ico/internet_connection_wiz.ico"},function(e,n,t){e.exports=t.p+"ico/internet_options_old_e.ico"},function(e,n,t){e.exports=t.p+"ico/ipad.ico"},function(e,n,t){e.exports=t.p+"ico/itunes.ico"},function(e,n,t){e.exports=t.p+"ico/jasmineflower.ico"},function(e,n,t){e.exports=t.p+"ico/joystick.ico"},function(e,n,t){e.exports=t.p+"ico/joystick_alt.ico"},function(e,n,t){e.exports=t.p+"ico/key.ico"},function(e,n,t){e.exports=t.p+"ico/key_gray.ico"},function(e,n,t){e.exports=t.p+"ico/key_padlock.ico"},function(e,n,t){e.exports=t.p+"ico/key_win_alt.ico"},function(e,n,t){e.exports=t.p+"ico/keyboard.ico"},function(e,n,t){e.exports=t.p+"ico/keyboard_musical.ico"},function(e,n,t){e.exports=t.p+"ico/keyboard_musical_midi.ico"},function(e,n,t){e.exports=t.p+"ico/keys.ico"},function(e,n,t){e.exports=t.p+"ico/keys2.ico"},function(e,n,t){e.exports=t.p+"ico/kodak_imaging.ico"},function(e,n,t){e.exports=t.p+"ico/laptop.ico"},function(e,n,t){e.exports=t.p+"ico/laptop_small.ico"},function(e,n,t){e.exports=t.p+"ico/lemon.ico"},function(e,n,t){e.exports=t.p+"ico/lighter.ico"},function(e,n,t){e.exports=t.p+"ico/lips.ico"},function(e,n,t){e.exports=t.p+"ico/magnifying_glass.ico"},function(e,n,t){e.exports=t.p+"ico/magnifying_glass_3.ico"},function(e,n,t){e.exports=t.p+"ico/magnifying_glass_4.ico"},function(e,n,t){e.exports=t.p+"ico/mailbox_world.ico"},function(e,n,t){e.exports=t.p+"ico/marble.ico"},function(e,n,t){e.exports=t.p+"ico/media_player.ico"},function(e,n,t){e.exports=t.p+"ico/media_player_stream_sun0.ico"},function(e,n,t){e.exports=t.p+"ico/media_player_stream_sun4.ico"},function(e,n,t){e.exports=t.p+"ico/memory.ico"},function(e,n,t){e.exports=t.p+"ico/mess.ico"},function(e,n,t){e.exports=t.p+"ico/message_envelope_open.ico"},function(e,n,t){e.exports=t.p+"ico/message_file.ico"},function(e,n,t){e.exports=t.p+"ico/message_tack.ico"},function(e,n,t){e.exports=t.p+"ico/mic.ico"},function(e,n,t){e.exports=t.p+"ico/microphone.ico"},function(e,n,t){e.exports=t.p+"ico/microphone_2.ico"},function(e,n,t){e.exports=t.p+"ico/minesweeper.ico"},function(e,n,t){e.exports=t.p+"ico/modem.ico"},function(e,n,t){e.exports=t.p+"ico/monitor_application.ico"},function(e,n,t){e.exports=t.p+"ico/monitor_moon.ico"},function(e,n,t){e.exports=t.p+"ico/monitor_windows.ico"},function(e,n,t){e.exports=t.p+"ico/moon.ico"},function(e,n,t){e.exports=t.p+"ico/mouse.ico"},function(e,n,t){e.exports=t.p+"ico/mouse2.ico"},function(e,n,t){e.exports=t.p+"ico/mouse_ms.ico"},function(e,n,t){e.exports=t.p+"ico/mouse_padlock.ico"},function(e,n,t){e.exports=t.p+"ico/mouse_snap.ico"},function(e,n,t){e.exports=t.p+"ico/movie_maker.ico"},function(e,n,t){e.exports=t.p+"ico/msg_warning.ico"},function(e,n,t){e.exports=t.p+"ico/msie1.ico"},function(e,n,t){e.exports=t.p+"ico/msie2.ico"},function(e,n,t){e.exports=t.p+"ico/msie_box.ico"},function(e,n,t){e.exports=t.p+"ico/msinfo32.ico"},function(e,n,t){e.exports=t.p+"ico/msn.ico"},function(e,n,t){e.exports=t.p+"ico/msn2.ico"},function(e,n,t){e.exports=t.p+"ico/msn3.ico"},function(e,n,t){e.exports=t.p+"ico/msn_cool.ico"},function(e,n,t){e.exports=t.p+"ico/mug.ico"},function(e,n,t){e.exports=t.p+"ico/music.ico"},function(e,n,t){e.exports=t.p+"ico/nasa.ico"},function(e,n,t){e.exports=t.p+"ico/nautilus.ico"},function(e,n,t){e.exports=t.p+"ico/netmeeting.ico"},function(e,n,t){e.exports=t.p+"ico/netmeeting_share.ico"},function(e,n,t){e.exports=t.p+"ico/netshow.ico"},function(e,n,t){e.exports=t.p+"ico/netshow_notransm.ico"},function(e,n,t){e.exports=t.p+"ico/network_cool_two_pcs.ico"},function(e,n,t){e.exports=t.p+"ico/network_internet_pcs_installer.ico"},function(e,n,t){e.exports=t.p+"ico/network_normal_two_pcs.ico"},function(e,n,t){e.exports=t.p+"ico/network_televisons.ico"},function(e,n,t){e.exports=t.p+"ico/network_three_pcs.ico"},function(e,n,t){e.exports=t.p+"ico/newspaper.ico"},function(e,n,t){e.exports=t.p+"ico/newspaper_mail.ico"},function(e,n,t){e.exports=t.p+"ico/note.ico"},function(e,n,t){e.exports=t.p+"ico/notepad.ico"},function(e,n,t){e.exports=t.p+"ico/notepad_file.ico"},function(e,n,t){e.exports=t.p+"ico/officechair.ico"},function(e,n,t){e.exports=t.p+"ico/onigiri.ico"},function(e,n,t){e.exports=t.p+"ico/orb.ico"},function(e,n,t){e.exports=t.p+"ico/paint.ico"},function(e,n,t){e.exports=t.p+"ico/paint_file.ico"},function(e,n,t){e.exports=t.p+"ico/paint_old.ico"},function(e,n,t){e.exports=t.p+"ico/paintbrush.ico"},function(e,n,t){e.exports=t.p+"ico/palm_computer.ico"},function(e,n,t){e.exports=t.p+"ico/palmtree.ico"},function(e,n,t){e.exports=t.p+"ico/paper_roll.ico"},function(e,n,t){e.exports=t.p+"ico/pawn.ico"},function(e,n,t){e.exports=t.p+"ico/pci_card.ico"},function(e,n,t){e.exports=t.p+"ico/pci_card_alt.ico"},function(e,n,t){e.exports=t.p+"ico/pcx.ico"},function(e,n,t){e.exports=t.p+"ico/pcx_alt.ico"},function(e,n,t){e.exports=t.p+"ico/peach.ico"},function(e,n,t){e.exports=t.p+"ico/pencil.ico"},function(e,n,t){e.exports=t.p+"ico/phone_desk.ico"},function(e,n,t){e.exports=t.p+"ico/pictures.ico"},function(e,n,t){e.exports=t.p+"ico/pie_chart_drvspace.ico"},function(e,n,t){e.exports=t.p+"ico/pifedit.ico"},function(e,n,t){e.exports=t.p+"ico/pin.ico"},function(e,n,t){e.exports=t.p+"ico/pineapple.ico"},function(e,n,t){e.exports=t.p+"ico/pizza2.ico"},function(e,n,t){e.exports=t.p+"ico/pokeball.ico"},function(e,n,t){e.exports=t.p+"ico/pot.ico"},function(e,n,t){e.exports=t.p+"ico/prideflag.ico"},function(e,n,t){e.exports=t.p+"ico/printer.ico"},function(e,n,t){e.exports=t.p+"ico/processor.ico"},function(e,n,t){e.exports=t.p+"ico/ps2.ico"},function(e,n,t){e.exports=t.p+"ico/pyramid.ico"},function(e,n,t){e.exports=t.p+"ico/rainbow.ico"},function(e,n,t){e.exports=t.p+"ico/ram_drive.ico"},function(e,n,t){e.exports=t.p+"ico/recycle_bin_directory.ico"},function(e,n,t){e.exports=t.p+"ico/recycle_bin_empty.ico"},function(e,n,t){e.exports=t.p+"ico/recycle_bin_empty_2k.ico"},function(e,n,t){e.exports=t.p+"ico/recycle_bin_empty_cool.ico"},function(e,n,t){e.exports=t.p+"ico/recycle_bin_file.ico"},function(e,n,t){e.exports=t.p+"ico/recycle_bin_file_directory.ico"},function(e,n,t){e.exports=t.p+"ico/recycle_bin_full.ico"},function(e,n,t){e.exports=t.p+"ico/recycle_bin_full_2k.ico"},function(e,n,t){e.exports=t.p+"ico/recycle_bin_full_cool.ico"},function(e,n,t){e.exports=t.p+"ico/regedit.ico"},function(e,n,t){e.exports=t.p+"ico/regedit_file.ico"},function(e,n,t){e.exports=t.p+"ico/registration.ico"},function(e,n,t){e.exports=t.p+"ico/removable_disk_drive.ico"},function(e,n,t){e.exports=t.p+"ico/removable_disk_drive_alt.ico"},function(e,n,t){e.exports=t.p+"ico/replace_directory.ico"},function(e,n,t){e.exports=t.p+"ico/ring.ico"},function(e,n,t){e.exports=t.p+"ico/saturn.ico"},function(e,n,t){e.exports=t.p+"ico/sauron.ico"},function(e,n,t){e.exports=t.p+"ico/scandisk.ico"},function(e,n,t){e.exports=t.p+"ico/scanner.ico"},function(e,n,t){e.exports=t.p+"ico/scanner_alt.ico"},function(e,n,t){e.exports=t.p+"ico/scanner_alt_network.ico"},function(e,n,t){e.exports=t.p+"ico/scanner_video_cam.ico"},function(e,n,t){e.exports=t.p+"ico/scanregw.ico"},function(e,n,t){e.exports=t.p+"ico/screen_keyboard.ico"},function(e,n,t){e.exports=t.p+"ico/search_computer.ico"},function(e,n,t){e.exports=t.p+"ico/search_file.ico"},function(e,n,t){e.exports=t.p+"ico/search_file_2.ico"},function(e,n,t){e.exports=t.p+"ico/search_file_2_cool.ico"},function(e,n,t){e.exports=t.p+"ico/search_file_3.ico"},function(e,n,t){e.exports=t.p+"ico/search_laptop_2.ico"},function(e,n,t){e.exports=t.p+"ico/search_web.ico"},function(e,n,t){e.exports=t.p+"ico/server_gear.ico"},function(e,n,t){e.exports=t.p+"ico/server_window.ico"},function(e,n,t){e.exports=t.p+"ico/settings_gear.ico"},function(e,n,t){e.exports=t.p+"ico/settings_gear_cool.ico"},function(e,n,t){e.exports=t.p+"ico/shell_window1.ico"},function(e,n,t){e.exports=t.p+"ico/shell_window2.ico"},function(e,n,t){e.exports=t.p+"ico/ship.ico"},function(e,n,t){e.exports=t.p+"ico/shut_down_cool.ico"},function(e,n,t){e.exports=t.p+"ico/shut_down_normal.ico"},function(e,n,t){e.exports=t.p+"ico/shut_down_with_computer.ico"},function(e,n,t){e.exports=t.p+"ico/sims.ico"},function(e,n,t){e.exports=t.p+"ico/skull.ico"},function(e,n,t){e.exports=t.p+"ico/sparkle.ico"},function(e,n,t){e.exports=t.p+"ico/sparkleheart.ico"},function(e,n,t){e.exports=t.p+"ico/spider.ico"},function(e,n,t){e.exports=t.p+"ico/spinner.ico"},function(e,n,t){e.exports=t.p+"ico/squash.ico"},function(e,n,t){e.exports=t.p+"ico/standby_monitor_moon.ico"},function(e,n,t){e.exports=t.p+"ico/standby_monitor_moon_cool.ico"},function(e,n,t){e.exports=t.p+"ico/statue.ico"},function(e,n,t){e.exports=t.p+"ico/sword.ico"},function(e,n,t){e.exports=t.p+"ico/table.ico"},function(e,n,t){e.exports=t.p+"ico/telephony.ico"},function(e,n,t){e.exports=t.p+"ico/template_empty.ico"},function(e,n,t){e.exports=t.p+"ico/tombone.ico"},function(e,n,t){e.exports=t.p+"ico/tools_gear.ico"},function(e,n,t){e.exports=t.p+"ico/tooth.ico"},function(e,n,t){e.exports=t.p+"ico/trans.ico"},function(e,n,t){e.exports=t.p+"ico/transfer.ico"},function(e,n,t){e.exports=t.p+"ico/tree.ico"},function(e,n,t){e.exports=t.p+"ico/trophy.ico"},function(e,n,t){e.exports=t.p+"ico/true_type_paint.ico"},function(e,n,t){e.exports=t.p+"ico/umbrella.ico"},function(e,n,t){e.exports=t.p+"ico/usb.ico"},function(e,n,t){e.exports=t.p+"ico/user_network.ico"},function(e,n,t){e.exports=t.p+"ico/vlc.ico"},function(e,n,t){e.exports=t.p+"ico/volleyball.ico"},function(e,n,t){e.exports=t.p+"ico/whale.ico"},function(e,n,t){e.exports=t.p+"ico/wia_img_color.ico"},function(e,n,t){e.exports=t.p+"ico/windows.ico"},function(e,n,t){e.exports=t.p+"ico/windows_button.ico"},function(e,n,t){e.exports=t.p+"ico/windows_slanted.ico"},function(e,n,t){e.exports=t.p+"ico/windows_update_large.ico"},function(e,n,t){e.exports=t.p+"ico/windows_update_old.ico"},function(e,n,t){e.exports=t.p+"ico/windows_update_small.ico"},function(e,n,t){e.exports=t.p+"ico/wm.ico"},function(e,n,t){e.exports=t.p+"ico/word.ico"},function(e,n,t){e.exports=t.p+"ico/world.ico"},function(e,n,t){e.exports=t.p+"ico/world_lock.ico"},function(e,n,t){e.exports=t.p+"ico/world_phonereceiver.ico"},function(e,n,t){e.exports=t.p+"ico/world_star.ico"},function(e,n,t){e.exports=t.p+"ico/write_wordpad.ico"},function(e,n,t){e.exports=t.p+"ico/write_yellow.ico"},function(e,n,t){e.exports=t.p+"ico/xml.ico"},function(e,n,t){e.exports=t.p+"ico/xml_gear.ico"},function(e,n,t){e.exports=t.p+"ico/yin-yang.ico"},,,,,,,,,,,,,,function(e,n){var t=document.getElementById("background"),o=window.setTimeout((function(){window.UI.state.tutorialProgress>3&&document.body.classList.add("faded")}),3e4),i=function(e){window.clearTimeout(o),document.body.classList.remove("faded"),o=window.setTimeout((function(){window.UI.state.tutorialProgress>3&&document.body.classList.add("faded")}),3e4)};document.body.addEventListener("mousemove",i),document.body.addEventListener("touchstart",i),t.addEventListener("touchmove",(function(e){window.paused||e.cancelable&&e.preventDefault()}))},function(e,n){e.exports="#define GLSLIFY 1\n// clang-format off\n\nuniform vec3 iResolution;\nuniform float iGlobalTime, iTime, gameTime;\nuniform sampler2D iChannel0;\n// Appropriated with love & respect from:///\n// The sun, the sky and the clouds. By StillTravelling\n// https://www.shadertoy.com/view/tdSXzD\n// Very much a messy hack sorry!!\n\n// Many Thank yous go to the below for their amazing work\n// Day and night sky cycle. By László Matuska (@BitOfGold)\n// Creates a sky texture for a skydome\n// https://www.shadertoy.com/view/ltlSWB\n\n// Weather. By David Hoskins, May 2014.\n// https://www.shadertoy.com/view/4dsXWn\n\n// Edge of atmosphere by dmytro rubalskyi (ruba)\n// https://www.shadertoy.com/view/XlXGzB\n\n// Auroras by nimitz\n// https://www.shadertoy.com/view/XtGGRt\n\n// Sorry to those I've missed out!!\n\n#define ORIG_CLOUD 0\n#define ENABLE_RAIN 0 // enable rain drops on screen\n#define SIMPLE_SUN 0\n#define NICE_HACK_SUN 1\n#define SOFT_SUN 1\n#define cloudy 0.5 // 0.0 clear sky\n#define haze 0.01 * (cloudy * 20.)\n#define rainmulti 5.0 // makes clouds thicker\n#define rainy (10.0 - rainmulti)\n#define t iTime\n#define fov tan(radians(60.0))\n#define S(x, y, z) smoothstep(x, y, z)\n#define cameraheight 5e1   // 50.\n#define mincloudheight 5e3 // 5e3\n#define maxcloudheight 10e3 // 8e3\n#define xaxiscloud t * 5e2 // t*5e2 +t left -t right *speed\n#define yaxiscloud 0.      // 0.\n#define zaxiscloud t * 6e2 // t*6e2 +t away from horizon -t towards horizon *speed\n#define cloudnoise 2e-4 // 2e-4\n\n// clang-format on\n\n//#define cloud2\n\n// Performance\nconst int steps = 16;  // 16 is fast, 128 or 256 is extreme high\nconst int stepss = 16; // 16 is fast, 16 or 32 is high\n\n// Environment\nconst float R0 = 6360e3; // planet radius //6360e3 actual 6371km\nconst float Ra = 6380e3; // atmosphere radius //6380e3 troposphere 8 to 14.5km\nconst float I = 10.;     // sun light power, 10.0 is normal\nconst float SI = 5.;     // sun intensity for sun\nconst float g = 0.45;    // light concentration .76 //.45 //.6  .45 is normaL\nconst float g2 = g * g;\nconst float PI = 3.14159265358979323846;\nconst float PI2 = 2. * 3.14159265358979323846;\n\nconst float ts = (cameraheight / 2.5e5);\n\nconst float s = 0.999; // light concentration for sun\n#if SOFT_SUN\nconst float s2 = s;\n#else\nconst float s2 = s * s;\n#endif\nconst float Hr = 8e3;   // Rayleigh scattering top //8e3\nconst float Hm = 1.2e3; // Mie scattering top //1.3e3\n\nvec3 bM = vec3(21e-6); // normal mie // vec3(21e-6)\n// vec3 bM = vec3(50e-6); //high mie\n\n// Rayleigh scattering (sky color, atmospheric up to 8km)\nvec3 bR = vec3(5.8e-6, 13.5e-6, 33.1e-6); // normal earth\n// vec3 bR = vec3(5.8e-6, 33.1e-6, 13.5e-6); //purple\n// vec3 bR = vec3( 63.5e-6, 13.1e-6, 50.8e-6 ); //green\n// vec3 bR = vec3( 13.5e-6, 23.1e-6, 115.8e-6 ); //yellow\n// vec3 bR = vec3( 5.5e-6, 15.1e-6, 355.8e-6 ); //yeellow\n// vec3 bR = vec3(3.5e-6, 333.1e-6, 235.8e-6 ); //red-purple\n\nvec3 C = vec3(0., -R0, 0.);             // planet center\nvec3 Ds = normalize(vec3(0., 0., -1.)); // sun direction?\n\nfloat cloudyhigh = 0.05; // if cloud2 defined\n\n#if ORIG_CLOUD\nfloat cloudnear =\n    1.0; // 9e3 12e3  //do not render too close clouds on the zenith\nfloat cloudfar = 1e3; // 15e3 17e3\n#else\nfloat cloudnear = 1.0; // 15e3 17e3\nfloat cloudfar = 70e3; // 160e3  //do not render too close clouds on the horizon\n                       // 160km should be max for cumulus\n#endif\n\n// AURORA STUFF\nmat2 mm2(in float a) {\n  float c = cos(a);\n  float s = sin(a);\n  return mat2(c, s, -s, c);\n}\n\nmat2 m2 = mat2(0.95534, 0.29552, -0.29552, 0.95534);\n\nfloat tri(in float x) { return clamp(abs(fract(x) - .5), 0.01, 0.49); }\n\nvec2 tri2(in vec2 p) { return vec2(tri(p.x) + tri(p.y), tri(p.y + tri(p.x))); }\n\nfloat triNoise2d(in vec2 p, float spd) {\n  float z = 1.8;\n  float z2 = 2.5;\n  float rz = 0.;\n  p *= mm2(p.x * 0.06);\n  vec2 bp = p;\n  for (float i = 0.; i < 5.; i++) {\n    vec2 dg = tri2(bp * 1.85) * .75;\n    dg *= mm2(t * spd);\n    p -= dg / z2;\n\n    bp *= 1.3;\n    z2 *= 1.45;\n    z *= .42;\n    p *= 1.21 + (rz - 1.0) * .02;\n\n    rz += tri(p.x + tri(p.y)) * z;\n    p *= -m2;\n  }\n  return clamp(1. / pow(rz * 29., 1.3), 0., .55);\n}\n\nfloat hash21(in vec2 n) {\n  return fract(sin(dot(n, vec2(12.9898, 4.1414))) * 43758.5453);\n}\nvec4 aurora(vec3 ro, vec3 rd) {\n  vec4 col = vec4(0);\n  vec4 avgCol = vec4(0);\n  ro *= 1e-5;\n  float mt = 10.;\n  for (float i = 0.; i < 5.; i++) {\n    float of = 0.006 * hash21(gl_FragCoord.xy) * smoothstep(0., 15., i * mt);\n    float pt = ((.8 + pow((i * mt), 1.2) * .001) - rd.y) / (rd.y * 2. + 0.4);\n    pt -= of;\n    vec3 bpos = (ro) + pt * rd;\n    vec2 p = bpos.zx;\n    // vec2 p = rd.zx;\n    float rzt = triNoise2d(p, 0.1);\n    vec4 col2 = vec4(0, 0, 0, rzt);\n    col2.rgb =\n        (sin(1. - vec3(2.15, -.5, 1.2) + (i * mt) * 0.053) * (0.5 * mt)) * rzt;\n    avgCol = mix(avgCol, col2, .5);\n    col += avgCol * exp2((-i * mt) * 0.04 - 2.5) * smoothstep(0., 5., i * mt);\n  }\n\n  col *= (clamp(rd.y * 15. + .4, 0., 1.2));\n  return col * 1.8;\n}\n\n// END AURORA STUFF\n\nfloat noise(in vec2 v) {\n  return 0.5;\n  //    texture(iChannel0,(v+.5)/256., 0.).r * 0.01;\n}\n\n// by iq\nfloat Noise(in vec3 x) {\n  vec3 p = floor(x);\n  vec3 f = fract(x);\n  f = f * f * (3.0 - 2.0 * f);\n\n  vec2 uv = (p.xy + vec2(37.0, 17.0) * p.z) + f.xy;\n  vec2 rg = textureLod(iChannel0, (uv + 0.5) / 256.0, -100.0).yx;\n  return mix(rg.x, rg.y, f.z);\n}\n\nfloat fnoise(vec3 p, in float t) {\n  p *= .25;\n  float f;\n\n  f = 0.5000 * Noise(p);\n  p = p * 3.02;\n  p.y -= t * .1; // t*.05 speed cloud changes\n  f += 0.2500 * Noise(p);\n  p = p * 3.03;\n  p.y += t * .06;\n  f += 0.1250 * Noise(p);\n  p = p * 3.01;\n  f += 0.0625 * Noise(p);\n  p = p * 3.03;\n  f += 0.03125 * Noise(p);\n  p = p * 3.02;\n  f += 0.015625 * Noise(p);\n  return f;\n}\n\nfloat cloud(vec3 p, in float t) {\n  float cld = fnoise(p * cloudnoise, t) + cloudy * 0.1;\n  cld = smoothstep(.4 + .04, .6 + .04, cld);\n  cld *= cld * (5.0 * rainmulti);\n  return cld + haze;\n}\n\nvoid densities(in vec3 pos, out float rayleigh, out float mie) {\n  float h = length(pos - C) - R0;\n  rayleigh = exp(-h / Hr);\n  vec3 d = pos;\n  d.y = 0.0;\n  float dist = length(d);\n\n  float cld = 0.;\n  if (mincloudheight < h && h < maxcloudheight) {\n    // cld = cloud(pos+vec3(t*1e3,0., t*1e3),t)*cloudy;\n    cld = cloud(pos + vec3(xaxiscloud, yaxiscloud, zaxiscloud), t) *\n          cloudy; // direction and speed the cloud movers\n    cld *= sin(3.1415 * (h - mincloudheight) / mincloudheight) * cloudy;\n  }\n#ifdef cloud2\n  float cld2 = 0.;\n  if (12e3 < h && h < 15.5e3) {\n    cld2 = fnoise(pos * 3e-4, t) *\n           cloud(pos * 32.0 + vec3(27612.3, 0., -t * 15e3), t);\n    cld2 *= sin(3.1413 * (h - 12e3) / 12e3) * cloudyhigh;\n    cld2 = clamp(cld2, 0.0, 1.0);\n  }\n\n#endif\n\n#if ORIG_CLOUD\n  if (dist < cloudfar) {\n    float factor =\n        clamp(1.0 - ((cloudfar - dist) / (cloudfar - cloudnear)), 0.0, 1.0);\n    cld *= factor;\n  }\n#else\n\n  if (dist > cloudfar) {\n\n    float factor =\n        clamp(1.0 - ((dist - cloudfar) / (cloudfar - cloudnear)), 0.0, 1.0);\n    cld *= factor;\n  }\n#endif\n\n  mie = exp(-h / Hm) + cld + haze;\n#ifdef cloud2\n  mie += cld2;\n#endif\n}\n\nfloat escape(in vec3 p, in vec3 d, in float R) {\n  vec3 v = p - C;\n  float b = dot(v, d);\n  float c = dot(v, v) - R * R;\n  float det2 = b * b - c;\n  if (det2 < 0.)\n    return -1.;\n  float det = sqrt(det2);\n  float t1 = -b - det, t2 = -b + det;\n  return (t1 >= 0.) ? t1 : t2;\n}\n\n// this can be explained:\n// http://www.scratchapixel.com/lessons/3d-advanced-lessons/simulating-the-colors-of-the-sky/atmospheric-scattering/\nvoid scatter(vec3 o, vec3 d, out vec3 col, out vec3 scat, in float t) {\n\n  float L = escape(o, d, Ra);\n  float mu = dot(d, Ds);\n  float opmu2 = 1. + mu * mu;\n  float phaseR = .0596831 * opmu2;\n  float phaseM = .1193662 * (1. - g2) * opmu2 /\n                 ((2. + g2) * pow(1. + g2 - 2. * g * mu, 1.5));\n  float phaseS = .1193662 * (1. - s2) * opmu2 /\n                 ((2. + s2) * pow(1. + s2 - 2. * s * mu, 1.5));\n\n  float depthR = 0., depthM = 0.;\n  vec3 R = vec3(0.), M = vec3(0.);\n\n  float dl = L / float(steps);\n  for (int i = 0; i < steps; ++i) {\n    float l = float(i) * dl;\n    vec3 p = (o + d * l);\n\n    float dR, dM;\n    densities(p, dR, dM);\n    dR *= dl;\n    dM *= dl;\n    depthR += dR;\n    depthM += dM;\n\n    float Ls = escape(p, Ds, Ra);\n    if (Ls > 0.) {\n      float dls = Ls / float(stepss);\n      float depthRs = 0., depthMs = 0.;\n      for (int j = 0; j < stepss; ++j) {\n        float ls = float(j) * dls;\n        vec3 ps = (p + Ds * ls);\n        float dRs, dMs;\n        densities(ps, dRs, dMs);\n        depthRs += dRs * dls;\n        depthMs += dMs * dls;\n      }\n\n      vec3 A = exp(-(bR * (depthRs + depthR) + bM * (depthMs + depthM)));\n      R += (A * dR);\n      M += A * dM;\n    } else {\n    }\n  }\n\n  // col = (I) * (R * bR * phaseR + M * bM * (phaseM ));\n  col = (I) * (M * bM * (phaseM)); // Mie scattering\n#if NICE_HACK_SUN\n  col += (SI) * (M * bM * phaseS); // Sun\n#endif\n  col += (I) * (R * bR * phaseR); // Rayleigh scattering\n  scat = 0.1 * (bM * depthM);\n  // scat = 0.0 + clamp(depthM*5e-7,0.,1.);\n}\n\nvec3 hash33(vec3 p) {\n  p = fract(p * vec3(443.8975, 397.2973, 491.1871));\n  p += dot(p.zxy, p.yxz + 19.27);\n  return fract(vec3(p.x * p.y, p.z * p.x, p.y * p.z));\n}\n\nvec3 stars(in vec3 p) {\n  vec3 c = vec3(0.);\n  float res = iResolution.x * 2.5;\n\n  for (float i = 0.; i < 4.; i++) {\n    vec3 q = fract(p * (.15 * res)) - 0.5;\n    vec3 id = floor(p * (.15 * res));\n    vec2 rn = hash33(id).xy;\n    float c2 = 1. - smoothstep(0., .6, length(q));\n    c2 *= step(rn.x, .0005 + i * i * 0.001);\n    c +=\n        c2 * (mix(vec3(1.0, 0.49, 0.1), vec3(0.75, 0.9, 1.), rn.y) * 0.1 + 0.9);\n    p *= 1.3;\n  }\n  return c * c * .8;\n}\n\n// SIMPLE SUN STUFF\nconst float density = 0.5;\nconst float zenithOffset = 0.48;\nconst vec3 skyColor = vec3(0.37, 0.55, 1.0) * (1.0 + 0.0);\n\n#define zenithDensity(x) density / pow(max(x - zenithOffset, 0.0035), 0.75)\n\nfloat getSunPoint(vec2 p, vec2 lp) {\n  return smoothstep(0.04 * (fov / 2.0), 0.026 * (fov / 2.0), distance(p, lp)) *\n         50.0;\n}\n\nfloat getMie(vec2 p, vec2 lp) {\n  float mytest = lp.y < 0.5 ? (lp.y + 0.5) * pow(0.05, 20.0) : 0.05;\n  float disk = clamp(1.0 - pow(distance(p, lp), mytest), 0.0, 1.0);\n  return disk * disk * (3.0 - 2.0 * disk) * 0.25 * PI;\n}\n\nvec3 getSkyAbsorption(vec3 x, float y) {\n  vec3 absorption = x * y;\n  absorption = pow(absorption, 1.0 - (y + absorption) * 0.5) / x / y;\n  return absorption;\n}\n\nvec3 jodieReinhardTonemap(vec3 c) {\n  float l = dot(c, vec3(0.2126, 0.7152, 0.0722));\n  vec3 tc = c / (c + 1.0);\n  return mix(c / (l + 1.0), tc, tc);\n}\n\nvec3 getAtmosphericScattering(vec2 p, vec2 lp) {\n  float zenithnew = zenithDensity(p.y);\n  float sunPointDistMult =\n      clamp(length(max(lp.y + 0.1 - zenithOffset, 0.0)), 0.0, 1.0);\n  vec3 absorption = getSkyAbsorption(skyColor, zenithnew);\n  vec3 sunAbsorption = getSkyAbsorption(skyColor, zenithDensity(lp.y + 0.1));\n  vec3 sun3 = getSunPoint(p, lp) * absorption;\n  vec3 mie2 = getMie(p, lp) * sunAbsorption;\n  vec3 totalSky = sun3; //+ mie2;\n  totalSky *= sunAbsorption * 0.5 + 0.5 * length(sunAbsorption);\n  vec3 newSky = jodieReinhardTonemap(totalSky);\n  return newSky;\n}\n// END SIMPLE SUN STUFF\n\n// RAIN STUFF\nvec3 N31(float p) {\n  //  3 out, 1 in... DAVE HOSKINS\n  vec3 p3 = fract(vec3(p) * vec3(.1031, .11369, .13787));\n  p3 += dot(p3, p3.yzx + 19.19);\n  return fract(\n      vec3((p3.x + p3.y) * p3.z, (p3.x + p3.z) * p3.y, (p3.y + p3.z) * p3.x));\n}\n\nfloat SawTooth(float t) {\n  return cos(t + cos(t)) + sin(2. * t) * .2 + sin(4. * t) * .02;\n}\n\nfloat DeltaSawTooth(float t) {\n  return 0.4 * cos(2. * t) + 0.08 * cos(4. * t) -\n         (1. - sin(t)) * sin(t + cos(t));\n}\n\nvec2 GetDrops(vec2 uv, float Grass, float m) {\n\n  float t2 = t + m;\n  vec2 o = vec2(0.);\n\n#ifndef DROP_DEBUG\n  uv.y += t2 * .05;\n#endif\n\n  uv *= vec2(10., 2.5) * 2.;\n  vec2 id = floor(uv);\n  vec3 n = N31(id.x + (id.y + Grass) * 546.3524);\n  vec2 bd = fract(uv);\n\n  vec2 uv2 = bd;\n\n  bd -= 0.5;\n\n  bd.y *= 4.;\n\n  bd.x += (n.x - .5) * rainy;\n\n  t2 += n.z * 6.28;\n  float slide = SawTooth(t2);\n\n  float ts = 1.5;\n  vec2 trailPos = vec2(bd.x * ts, (fract(bd.y * ts * 2. - t2 * 2.) - .5) * .5);\n\n  bd.y += slide * 2.; // make drops slide down\n\n#ifdef HIGH_QUALITY\n  float dropShape = bd.x * bd.x;\n  dropShape *= DeltaSawTooth(t);\n  bd.y += dropShape; // change shape of drop when it is falling\n#endif\n\n  float d = length(bd); // distance to main drop\n\n  float trailMask = S(-.2, .2, bd.y); // mask out drops that are below the main\n  trailMask *= bd.y;                  // fade dropsize\n  float td = length(trailPos * max(.5, trailMask)); // distance to trail drops\n\n  float mainDrop = S(.2, .1, d);\n  float dropTrail = S(.1, .02, td);\n\n  dropTrail *= trailMask;\n  o = mix(bd * mainDrop, trailPos, dropTrail); // mix main drop and drop trail\n\n#ifdef DROP_DEBUG\n  if (uv2.x < .02 || uv2.y < .01)\n    o = vec2(1.);\n#endif\n\n  return o;\n}\n// END RAIN STUFF\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n\n  float AR = iResolution.x / iResolution.y;\n  //   float YAR = iResolution.y / iResolution.x;\n  //   float SAR = min(AR, YAR);\n  //   float BAR = max(AR, YAR);\n  //   float smallSide = min(iResolution.x, iResolution.y);\n  //   float bigSide = max(iResolution.x, iResolution.y);\n  float M = 1.0; // canvas.innerWidth/M //canvas.innerHeight/M --res\n  vec2 sunPos = vec2(sin(-gameTime * PI2), cos(gameTime * PI2)) * 0.5;\n  sunPos.x += AR * 0.5;\n  if (sunPos.y < 0.) {\n    sunPos.y = sunPos.y / 4.;\n  }\n  sunPos.y += 0.5;\n\n  // circle = vec2(sin(gameTime*PI2));\n  vec2 uvMouse = sunPos;\n  // / iResolution.xy);\n  // uvMouse.x *= AR;\n\n  vec2 uv0 = (fragCoord.xy / iResolution.xy);\n  uv0 *= M;\n  // uv0.x *= AR;\n\n  vec2 uv = uv0 * (2.0 * M) - (1.0 * M);\n  uv.x *= AR;\n\n  // uvMouse.y=(0.7-(0.05*fov)); //initial view\n  // uvMouse.x=(1.0-(0.05*fov)); //initial view\n  // circle+=0.5;\n  // uvMouse.xy = circle - vec2((0.05*fov));\n  // uvMouse.xy = vec2(1.0, 0.5);\n  // uvMouse*= 100.;\n  // uvMouse += iResolution.xy *0.5;\n  Ds = normalize(vec3(uvMouse.x - ((0.5 * AR)), uvMouse.y - 0.5, (fov / -2.0)));\n\n  vec3 O = vec3(0., cameraheight, 0.);\n  vec3 D = normalize(vec3(uv, -(fov * M)));\n\n  vec3 color = vec3(0.);\n  vec3 scat = vec3(0.);\n\n  // float scat = 0.;\n  float att = 1.;\n  float staratt = 1.;\n  float scatatt = 1.;\n  vec3 star = vec3(0.);\n  vec4 aur = vec4(0.);\n\n  float fade = smoothstep(0., 0.01, abs(D.y)) * 0.5 + 0.6;\n\n  staratt = 1. - min(1.0, (uvMouse.y * 2.0));\n  scatatt = 1. - min(1.0, (uvMouse.y * 2.2));\n\n  if (D.y < -ts) {\n    float L = -O.y / D.y;\n    O = O + D * L;\n    D.y = -D.y;\n    D = normalize(\n        D +\n        vec3(0, .003 * sin(t + 6.2831 * noise(O.xz + vec2(0., -t * 1e3))), 0.));\n    att = .6;\n    star = stars(D);\n    uvMouse.y < 0.5 ? aur = smoothstep(0.0, 2.5, aurora(O, D)) : aur = aur;\n  } else {\n    float L1 = O.y / D.y;\n    vec3 O1 = O + D * L1;\n\n    vec3 D1 = vec3(1.);\n    D1 = normalize(\n        D + vec3(1.,\n                 0.0009 * sin(t + 6.2831 * noise(O1.xz + vec2(0., t * 0.8))),\n                 0.));\n    star = stars(D1);\n    uvMouse.y < 0.5 ? aur = smoothstep(0., 1.5, aurora(O, D)) *fade : aur = aur;\n  }\n\n  star *= att;\n  star *= staratt;\n\n  scatter(O, D, color, scat, t);\n  color *= att;\n  scat *= att;\n  scat *= scatatt;\n\n// draw the badly implemented sun\n#if SIMPLE_SUN\n\n  vec2 uv1 = (fragCoord.xy / iResolution.xy);\n  uv1 *= M;\n  uv1.x *= AR;\n\n  vec3 sun2 = getAtmosphericScattering(uv1, vec2(uvMouse.x, uvMouse.y));\n  color += sun2;\n#endif\n\n  color += scat;\n  color += star;\n  //   color=color*(1.-(aur.a)*scatatt) + (aur.rgb*scatatt);\n  color += aur.rgb * scatatt;\n\n#if ENABLE_RAIN\n  vec2 drops = vec2(0.);\n  if (rainmulti > 1.0) {\n    drops = GetDrops(uv / 2.0, 1., 1.);\n\n    color += drops.x + drops.y;\n  }\n#endif\n\n  // float env = pow( smoothstep(.5, iResolution.x / iResolution.y,\n  // length(uv*0.8)), 0.0);\n  fragColor = vec4(pow(color, vec3(1.0 / 2.2)), 1.); // gamma correct\n  fragColor.r *= 1.00;\n  fragColor.g *= 0.95;\n  fragColor.b *= 1.0;\n  // fragColor *= 0.8;\n}\nvoid main() {\n  vec4 color = vec4(0.0);\n  mainImage(color, gl_FragCoord.xy);\n  gl_FragColor = color;\n}\n"}]]);
//# sourceMappingURL=1.f11d86a0e323fb2cb7ce.js.map